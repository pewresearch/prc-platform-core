{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@pewresearch/prc-platform-interactives-loader/webpack/runtime/chunk loaded","webpack://@pewresearch/prc-platform-interactives-loader/external window \"React\"","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"primitives\"]","webpack://@pewresearch/prc-platform-interactives-loader/./node_modules/@wordpress/icons/build-module/library/tool.js","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"blocks\"]","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"components\"]","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"element\"]","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/prc-platform-interactives-loader/external window [\"wp\",\"apiFetch\"]","webpack://@pewresearch/prc-platform-interactives-loader/external window \"prcComponents\"","webpack://@pewresearch/prc-platform-interactives-loader/./src/data-drop-zone.jsx","webpack://@pewresearch/prc-platform-interactives-loader/./src/edit.jsx","webpack://@pewresearch/prc-platform-interactives-loader/./src/transforms.js","webpack://@pewresearch/prc-platform-interactives-loader/./src/index.js","webpack://@pewresearch/prc-platform-interactives-loader/./src/use-features-list.js","webpack://@pewresearch/prc-platform-interactives-loader/webpack/bootstrap","webpack://@pewresearch/prc-platform-interactives-loader/webpack/runtime/compat get default export","webpack://@pewresearch/prc-platform-interactives-loader/webpack/runtime/define property getters","webpack://@pewresearch/prc-platform-interactives-loader/webpack/runtime/hasOwnProperty shorthand","webpack://@pewresearch/prc-platform-interactives-loader/webpack/runtime/jsonp chunk loading","webpack://@pewresearch/prc-platform-interactives-loader/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","import { createElement } from \"react\";\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst tool = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M14.103 7.128l2.26-2.26a4 4 0 00-5.207 4.804L5.828 15a2 2 0 102.828 2.828l5.329-5.328a4 4 0 004.804-5.208l-2.261 2.26-1.912-.512-.513-1.912zm-7.214 9.64a.5.5 0 11.707-.707.5.5 0 01-.707.707z\"\n}));\nexport default tool;\n//# sourceMappingURL=tool.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcComponents\"];","/**\n * External Dependencies\n */\nimport { MediaDropZone } from '@prc/components';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\n\nexport default function DataDropZone({id, setNewId, disabled = false, children}) {\n\treturn(\n\t\t<Fragment>\n\t\t\t<MediaDropZone {...{\n\t\t\t\tattachmentId: id,\n\t\t\t\tdisabled,\n\t\t\t\tonUpdate: (attachment) => {\n\t\t\t\t\tif (typeof setNewId === 'function') {\n\t\t\t\t\t\tsetNewId(attachment.id);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonClear: () => {\n\t\t\t\t\tif (typeof setNewId === 'function') {\n\t\t\t\t\t\tsetNewId(null);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmediaType: ['text/csv', 'application/json'], // Machine readable formats only\n\t\t\t\tlabel: __('Drop or Select a Data File (CSV or JSON)'),\n\t\t\t\tsingularLabel: __('Data File'),\n\t\t\t}}>\n\t\t\t\t<Button variant=\"primary\">Modify Data File</Button>\n\t\t\t</MediaDropZone>\n\t\t\t{id && children}\n\t\t</Fragment>\n\t);\n}\n","/* eslint-disable max-lines-per-function */\n/* eslint-disable @wordpress/no-unsafe-wp-apis */\n/**\n * External Dependencies\n */\nimport { tool as icon } from '@wordpress/icons';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tPlaceholder,\n\tSelectControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n} from '@wordpress/components';\nimport { Fragment, useState, useMemo } from '@wordpress/element';\nimport { useBlockProps, Warning } from '@wordpress/block-editor';\n\n/**\n * Internal Dependencies\n */\nimport useFeaturesList from './use-features-list';\nimport DataDropZone from './data-drop-zone';\n\nfunction findFeatureBySlug(obj, slug) {\n\tfor (const key in obj) {\n\t\tif (typeof obj[key] === 'object') {\n\t\t\tconst result = findFeatureBySlug(obj[key], slug);\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t} else if (obj.hasOwnProperty('slug') && obj.slug === slug) {\n\t\t\treturn obj;\n\t\t}\n\t}\n\treturn null;\n}\n\nexport default function Edit({ attributes, setAttributes, clientId, context }) {\n\tconst { postId } = context;\n\tconst blockProps = useBlockProps();\n\tconst [researchArea, setResearchArea] = useState(null);\n\tconst [year, setYear] = useState(null);\n\tconst [dataViewerOpen, setDataViewerOpen] = useState(false);\n\tconst { slug, dataAttachmentId, legacyWpackIo, legacyAssetsS3 } =\n\t\tattributes;\n\n\tconst isLegacy = useMemo(() => {\n\t\treturn legacyWpackIo || legacyAssetsS3;\n\t}, [legacyWpackIo, legacyAssetsS3]);\n\n\tconst { features } = useFeaturesList(researchArea, year);\n\n\tconst selectedFeature = useMemo(() => {\n\t\tif (features && slug) {\n\t\t\treturn findFeatureBySlug(features, slug);\n\t\t}\n\t\treturn null;\n\t}, [features, slug]);\n\n\tconst placeholderLabel = useMemo(() => {\n\t\treturn selectedFeature?.title || __('Select Feature');\n\t}, [selectedFeature]);\n\n\tconst researchAreaOptions = useMemo(() => {\n\t\tconst defaultValue = { label: 'Select Research Area', value: null };\n\t\tconst options = [defaultValue];\n\t\tif (features) {\n\t\t\tObject.keys(features).forEach((researchArea) => {\n\t\t\t\t// const label which is researchArea but with the first letter capitalized\n\t\t\t\tconst label =\n\t\t\t\t\tresearchArea.charAt(0).toUpperCase() +\n\t\t\t\t\tresearchArea.slice(1);\n\t\t\t\toptions.push({\n\t\t\t\t\tlabel,\n\t\t\t\t\tvalue: researchArea,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn options;\n\t}, [features]);\n\n\tconst yearOptions = useMemo(() => {\n\t\tconst defaultValue = { label: 'Select Year', value: null };\n\t\tconst options = [defaultValue];\n\t\tif (features && researchArea) {\n\t\t\tObject.keys(features[researchArea]).forEach((year) => {\n\t\t\t\toptions.push({\n\t\t\t\t\tlabel: year,\n\t\t\t\t\tvalue: year,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn options;\n\t}, [features, researchArea]);\n\n\tconst filteredFeatureOptions = useMemo(() => {\n\t\tconst defaultValue = { label: 'Select Feature', value: null };\n\t\t// filter features[researchArea][year]\n\t\tif (null === researchArea || null === year) {\n\t\t\treturn [defaultValue];\n\t\t}\n\t\tconst data = features?.[researchArea]?.[year];\n\t\tif (!data) {\n\t\t\treturn [defaultValue];\n\t\t}\n\t\tconst options = data.map((feature) => {\n\t\t\t// get the slug from data by index and store as a const\n\t\t\treturn {\n\t\t\t\tlabel: feature.title,\n\t\t\t\tvalue: feature.slug,\n\t\t\t};\n\t\t});\n\t\toptions.unshift(defaultValue);\n\t\treturn options;\n\t}, [features, researchArea, year]);\n\n\treturn (\n\t\t<div {...blockProps}>\n\t\t\t{isLegacy && (\n\t\t\t\t<Warning>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tThis feature is being loaded via legacy means:{' '}\n\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t{undefined !== legacyWpackIo\n\t\t\t\t\t\t\t\t? 'WPackIo'\n\t\t\t\t\t\t\t\t: 'Assets S3'}\n\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tPlease update this feature's code and bring it into{' '}\n\t\t\t\t\t\t<i>/features</i> and up to <i>@wordpress/scripts</i>{' '}\n\t\t\t\t\t\tbuild and loading compliance at earliest convenience\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\tslug: null,\n\t\t\t\t\t\t\t\tlegacyAssetsS3: null,\n\t\t\t\t\t\t\t\tlegacyWpackIo: null,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttext=\"Reset Feature Selection\"\n\t\t\t\t\t/>\n\t\t\t\t</Warning>\n\t\t\t)}\n\t\t\t{!isLegacy && (\n\t\t\t\t<Placeholder label={placeholderLabel} icon={icon}>\n\t\t\t\t\t{null === selectedFeature && (\n\t\t\t\t\t\t<Flex gap=\"5px\">\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Select Research Area\"\n\t\t\t\t\t\t\t\t\tvalue={researchArea}\n\t\t\t\t\t\t\t\t\toptions={researchAreaOptions}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tsetResearchArea(value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Select Year\"\n\t\t\t\t\t\t\t\t\tvalue={year}\n\t\t\t\t\t\t\t\t\toptions={yearOptions}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tsetYear(value);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tlabel=\"Select Feature\"\n\t\t\t\t\t\t\t\t\tvalue={slug}\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tfilteredFeatureOptions.length === 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\toptions={filteredFeatureOptions}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes({ slug: value });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t)}\n\t\t\t\t\t{selectedFeature && (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tonClick={() => setAttributes({ slug: null })}\n\t\t\t\t\t\t\t\ttext=\"Reset Feature Selection\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<DataDropZone\n\t\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\t\tid: dataAttachmentId,\n\t\t\t\t\t\t\t\t\tsetNewId: (id) => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes({ dataAttachmentId: id });\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p>Data accessible via Rest API:</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t\t/wp-json/prc-api/v3/feature/get-data/\n\t\t\t\t\t\t\t\t\t\t{`${dataAttachmentId}`}\n\t\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</DataDropZone>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Placeholder>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n\nconst BLOCKNAME = 'prc-platform/feature-loader';\n\nfunction convertLegacyLoader({ id, appName, path, deps, version }) {\n\treturn createBlock(BLOCKNAME, {\n\t\tslug: id,\n\t\tlegacyWpackIo: {\n\t\t\tappName,\n\t\t\tpath,\n\t\t\tdeps,\n\t\t},\n\t});\n}\n\nfunction convertAssetsS3Interactive({ id, path, react, libraries, styles }) {\n\treturn createBlock(BLOCKNAME, {\n\t\tslug: id,\n\t\tlegacyAssetsS3: {\n\t\t\tpath,\n\t\t\treact,\n\t\t\tlibraries,\n\t\t\tstyles,\n\t\t},\n\t});\n}\n\nfunction converTextRaw(text) {\n\tconsole.log('converTextRaw()', text);\n\tconst isLoadInteractive = null !== text.match(/\\[load_interactive/);\n\tconst isJsInteractive = null !== text.match(/\\[js_interactive/);\n\n\tconst id = text.match(/id=\"([^\"]+)\"/);\n\tconst appName = text.match(/appName=\"([^\"]+)\"/);\n\tconst path = text.match(/path=\"([^\"]+)\"/);\n\tconst deps = text.match(/deps=\"([^\"]+)\"/);\n\tconst version = text.match(/version=\"([^\"]+)\"/);\n\tconst react = text.match(/react=\"([^\"]+)\"/);\n\tconst libraries = text.match(/libraries=\"([^\"]+)\"/);\n\tconst styles = text.match(/styles=\"([^\"]+)\"/);\n\n\tconsole.log('isLoadInteractive', isLoadInteractive);\n\tconsole.log('isJsInteractive', isJsInteractive);\n\tconsole.log(text);\n\n\tif (isLoadInteractive) {\n\t\treturn convertLegacyLoader({\n\t\t\tid: null !== id ? id[1] : null,\n\t\t\tappName: null !== appName ? appName[1] : null,\n\t\t\tpath: null !== path ? path[1] : null,\n\t\t\tdeps: null !== deps ? deps[1] : '',\n\t\t\tversion: null !== version ? version[1] : null,\n\t\t});\n\t}\n\n\tif (isJsInteractive) {\n\t\treturn convertAssetsS3Interactive({\n\t\t\tid: null !== id ? id[1] : null,\n\t\t\tpath: null !== path ? path[1] : null,\n\t\t\treact: null !== react ? react[1] : null,\n\t\t\tlibraries: null !== libraries ? libraries[1] : null,\n\t\t\tstyles: null !== styles ? styles[1] : null,\n\t\t});\n\t}\n}\n\nconst transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'shortcode',\n\t\t\ttag: 'load_interactive',\n\t\t\ttransform({ named: { id, appName, path, deps, version } }) {\n\t\t\t\tconsole.log('name', named);\n\t\t\t\treturn convertLegacyLoader({\n\t\t\t\t\tid,\n\t\t\t\t\tappName,\n\t\t\t\t\tpath,\n\t\t\t\t\tdeps,\n\t\t\t\t\tversion,\n\t\t\t\t});\n\t\t\t},\n\t\t\tisMatch({ named: { id, appName, path } }) {\n\t\t\t\treturn !!id && !!appName && !!path;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'shortcode',\n\t\t\ttag: 'js_interactive',\n\t\t\ttransform({ named: { id, path, libraries, styles, react } }) {\n\t\t\t\tconsole.log('name', named);\n\t\t\t\treturn convertAssetsS3Interactive({\n\t\t\t\t\tid,\n\t\t\t\t\tpath,\n\t\t\t\t\treact,\n\t\t\t\t\tlibraries,\n\t\t\t\t\tstyles,\n\t\t\t\t});\n\t\t\t},\n\t\t\tisMatch({ named: { path, react } }) {\n\t\t\t\treturn path, react;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: ['core/shortcode'],\n\t\t\ttransform: ({ text }) => {\n\t\t\t\treturn converTextRaw(text);\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: ['core/html'],\n\t\t\ttransform: ({ content }) => {\n\t\t\t\treturn converTextRaw(content);\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\n * Registers a new block provided a unique name and an object defining its behavior.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\n\n/**\n * External Dependencies\n */\nimport { tool as icon } from '@wordpress/icons';\n\n/**\n * WordPress Dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal Dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport transforms from './transforms';\nimport './style.scss';\n\nconst { name } = metadata;\n\nconst settings = {\n\ticon,\n\tedit,\n\ttransforms,\n};\n\n/**\n * Every block starts by registering a new block type definition.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/#registering-a-block\n */\nregisterBlockType(name, { ...metadata, ...settings });\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState, useMemo } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\n\nexport default function useFeaturesList(researchArea, year) {\n\tconst [features, setFeatures] = useState([]);\n\n\tuseEffect(() => {\n\t\tapiFetch({ path: '/prc-api/v3/feature/get-assets' }).then((data) => {\n\t\t\tconsole.log({ data });\n\t\t\tsetFeatures(data);\n\t\t});\n\t}, []);\n\n\treturn {\n\t\tfeatures,\n\t};\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0,\n\t350: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunk_pewresearch_prc_platform_interactives_loader\"] = globalThis[\"webpackChunk_pewresearch_prc_platform_interactives_loader\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [350], () => (__webpack_require__(894)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","window","createElement","SVG","xmlns","viewBox","Path","d","DataDropZone","id","setNewId","disabled","children","Fragment","MediaDropZone","attachmentId","onUpdate","attachment","onClear","mediaType","label","__","singularLabel","Button","variant","findFeatureBySlug","obj","slug","key","result","hasOwnProperty","BLOCKNAME","convertLegacyLoader","appName","path","deps","version","createBlock","legacyWpackIo","convertAssetsS3Interactive","react","libraries","styles","legacyAssetsS3","converTextRaw","text","console","log","isLoadInteractive","match","isJsInteractive","from","type","tag","transform","named","isMatch","blocks","content","name","metadata","settings","icon","edit","attributes","setAttributes","clientId","context","postId","blockProps","useBlockProps","researchArea","setResearchArea","useState","year","setYear","dataViewerOpen","setDataViewerOpen","dataAttachmentId","isLegacy","useMemo","features","setFeatures","useEffect","apiFetch","then","data","useFeaturesList","selectedFeature","placeholderLabel","title","researchAreaOptions","options","value","Object","keys","forEach","charAt","toUpperCase","slice","push","yearOptions","filteredFeatureOptions","defaultValue","map","feature","unshift","Warning","undefined","isDestructive","onClick","Placeholder","Flex","gap","FlexItem","SelectControl","onChange","FlexBlock","length","transforms","registerBlockType","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","prop","prototype","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","globalThis","bind","__webpack_exports__"],"sourceRoot":""}