(()=>{"use strict";const e=window.React,t=window.wp.components,i=window.wp.element,n=window.wp.data,o=window.wp.plugins,l=window.wp.editPost;(0,o.registerPlugin)("prc-post-visibility",{render:function(){const o=(0,n.useSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("meta"),{_postVisibility:i}=t;return i})),{editPost:s}=(0,n.useDispatch)("core/editor");return(0,i.useEffect)((()=>{null==o&&s({meta:{_postVisibility:"public"}})}),[o]),(0,e.createElement)(i.Fragment,null,(0,e.createElement)(l.PluginPostStatusInfo,null,(0,e.createElement)("label",null,"Hide On Publications (Index)"),(0,e.createElement)(t.FormToggle,{checked:"hidden_from_index"===o,onChange:()=>{s("hidden_from_index"===o?{meta:{_postVisibility:""}}:{meta:{_postVisibility:"hidden_from_index"}})}})),(0,e.createElement)(l.PluginPostStatusInfo,null,(0,e.createElement)("label",null,"Hide On Search"),(0,e.createElement)(t.FormToggle,{checked:"hidden_from_search"===o,onChange:()=>{s("hidden_from_search"===o?{meta:{_postVisibility:""}}:{meta:{_postVisibility:"hidden_from_search"}})}})))}})})();