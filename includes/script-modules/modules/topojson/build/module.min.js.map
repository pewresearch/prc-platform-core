{"version":3,"file":"./module.min.js","mappings":"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","sources":["webpack://@prc/topojson/webpack/bootstrap","webpack://@prc/topojson/webpack/runtime/define property getters","webpack://@prc/topojson/webpack/runtime/hasOwnProperty shorthand","webpack://@prc/topojson/./node_modules/topojson-client/src/identity.js","webpack://@prc/topojson/./node_modules/topojson-client/src/feature.js","webpack://@prc/topojson/./node_modules/topojson-client/src/transform.js","webpack://@prc/topojson/./node_modules/topojson-client/src/reverse.js","webpack://@prc/topojson/./node_modules/topojson-client/src/stitch.js","webpack://@prc/topojson/./node_modules/topojson-client/src/mesh.js","webpack://@prc/topojson/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default function(x) {\n  return x;\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","import { feature, mesh } from 'topojson-client';\n\nconst _feature = feature;\nconst _mesh = mesh;\n\nexport { _feature as feature, _mesh as mesh };\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","x","topology","id","bbox","properties","geometry","object","type","transformPoint","transform","identity","x0","y0","kx","scale","ky","dx","translate","dy","input","i","j","n","length","output","Array","arcs","arc","points","pop","a","k","push","array","t","reverse","point","p","line","ring","polygon","map","coordinates","geometries","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","f","start","end","forEach","g","e","p1","p0","dp","ends","fg","concat","unshift","gf","meshArcs","filter","arguments","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","extractArcs","stitch","_feature","features","_mesh","apply","this"],"sourceRoot":""}