var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function r(e){return e}function n(e,t){var r=t.id,n=t.bbox,o=null==t.properties?{}:t.properties,i=a(e,t);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function a(e,t){var n=function(e){if(null==e)return r;var t,n,a=e.scale[0],o=e.scale[1],i=e.translate[0],c=e.translate[1];return function(e,r){r||(t=n=0);var u=2,s=e.length,l=new Array(s);for(l[0]=(t+=e[0])*a+i,l[1]=(n+=e[1])*o+c;u<s;)l[u]=e[u],++u;return l}}(e.transform),a=e.arcs;function o(e,t){t.length&&t.pop();for(var r=a[e<0?~e:e],o=0,i=r.length;o<i;++o)t.push(n(r[o],o));e<0&&function(e,t){for(var r,n=e.length,a=n-t;a<--n;)r=e[a],e[a++]=e[n],e[n]=r}(t,i)}function i(e){return n(e)}function c(e){for(var t=[],r=0,n=e.length;r<n;++r)o(e[r],t);return t.length<2&&t.push(t[0]),t}function u(e){for(var t=c(e);t.length<4;)t.push(t[0]);return t}function s(e){return e.map(u)}return function e(t){var r,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":r=i(t.coordinates);break;case"MultiPoint":r=t.coordinates.map(i);break;case"LineString":r=c(t.arcs);break;case"MultiLineString":r=t.arcs.map(c);break;case"Polygon":r=s(t.arcs);break;case"MultiPolygon":r=t.arcs.map(s);break;default:return null}return{type:n,coordinates:r}}(t)}function o(e,t){var r={},n={},a={},o=[],i=-1;function c(e,t){for(var n in e){var a=e[n];delete t[a.start],delete a.start,delete a.end,a.forEach((function(e){r[e<0?~e:e]=1})),o.push(a)}}return t.forEach((function(r,n){var a,o=e.arcs[r<0?~r:r];o.length<3&&!o[1][0]&&!o[1][1]&&(a=t[++i],t[i]=r,t[n]=a)})),t.forEach((function(t){var r,o,i=function(t){var r,n=e.arcs[t<0?~t:t],a=n[0];return e.transform?(r=[0,0],n.forEach((function(e){r[0]+=e[0],r[1]+=e[1]}))):r=n[n.length-1],t<0?[r,a]:[a,r]}(t),c=i[0],u=i[1];if(r=a[c])if(delete a[r.end],r.push(t),r.end=u,o=n[u]){delete n[o.start];var s=o===r?r:r.concat(o);n[s.start=r.start]=a[s.end=o.end]=s}else n[r.start]=a[r.end]=r;else if(r=n[u])if(delete n[r.start],r.unshift(t),r.start=c,o=a[c]){delete a[o.end];var l=o===r?r:o.concat(r);n[l.start=o.start]=a[l.end=r.end]=l}else n[r.start]=a[r.end]=r;else n[(r=[t]).start=c]=a[r.end=u]=r})),c(a,n),c(n,a),t.forEach((function(e){r[e<0?~e:e]||o.push([e])})),o}function i(e,t,r){var n,a,i;if(arguments.length>1)n=function(e,t,r){var n,a=[],o=[];function i(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:n})}function c(e){e.forEach(i)}function u(e){e.forEach(c)}return function e(t){switch(n=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":c(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(u)}(t.arcs)}}(t),o.forEach(null==r?function(e){a.push(e[0].i)}:function(e){r(e[0].g,e[e.length-1].g)&&a.push(e[0].i)}),a}(0,t,r);else for(a=0,n=new Array(i=e.arcs.length);a<i;++a)n[a]=a;return{type:"MultiLineString",arcs:o(e,n)}}e.d(t,{N:()=>c,i:()=>u});const c=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return n(e,t)}))}:n(e,t)},u=function(e){return a(e,i.apply(this,arguments))};var s=t.N,l=t.i;export{s as feature,l as mesh};
//# sourceMappingURL=module.min.js.map