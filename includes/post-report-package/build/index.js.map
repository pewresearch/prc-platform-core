{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"element\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"plugins\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"editPost\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"editor\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"data\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"coreData\"]","webpack://@pewresearch/prc-platform-post-report-package/./src/context.js","webpack://@pewresearch/prc-platform-post-report-package/external window \"React\"","webpack://@pewresearch/prc-platform-post-report-package/external window \"ReactDOM\"","webpack://@pewresearch/prc-platform-post-report-package/./node_modules/react-movable/lib/utils.js","webpack://@pewresearch/prc-platform-post-report-package/./node_modules/react-movable/lib/List.js","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"components\"]","webpack://@pewresearch/prc-platform-post-report-package/./src/utils.js","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"htmlEntities\"]","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"primitives\"]","webpack://@pewresearch/prc-platform-post-report-package/../../../../node_modules/@wordpress/icons/build-module/library/drag-handle.js","webpack://@pewresearch/prc-platform-post-report-package/./src/ListItem.jsx","webpack://@pewresearch/prc-platform-post-report-package/external window \"prcHooks\"","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"url\"]","webpack://@pewresearch/prc-platform-post-report-package/./src/back-chapters/PostSearchByEditUrlField.jsx","webpack://@pewresearch/prc-platform-post-report-package/./src/back-chapters/index.js","webpack://@pewresearch/prc-platform-post-report-package/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/prc-platform-post-report-package/./src/materials/type-select.js","webpack://@pewresearch/prc-platform-post-report-package/./src/materials/Item.jsx","webpack://@pewresearch/prc-platform-post-report-package/./src/materials/index.js","webpack://@pewresearch/prc-platform-post-report-package/external window \"prcIcons\"","webpack://@pewresearch/prc-platform-post-report-package/./src/Icon.jsx","webpack://@pewresearch/prc-platform-post-report-package/./src/index.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editPost\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport {\n\tuseState,\n\tuseContext,\n\tcreateContext,\n\tuseEffect,\n\tuseMemo,\n} from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { useEntityProp, useResourcePermissions } from '@wordpress/core-data';\n\n/**\n * Internal Dependencies\n */\n\nconst postReportPackageContext = createContext();\n\nconst usePostReportPackageContext = (postId, postType) => {\n\tconst [ loading, setIsLoading ] = useState( true );\n\tconst [ materials, setMaterials ] = useState( [] );\n\tconst [ backChapters, setBackChapters ] = useState( [] );\n\n\tconst [meta, setMeta] = useEntityProp('postType', postType, 'meta', postId);\n\t// const [title] = useEntityProp('postType', postType, 'title', postId);\n\t// console.log(\"TITLE??\", title, meta);\n\tconst {canDelete, isResolving} = useResourcePermissions('posts', postId);\n\n\tconst allowEditing = useMemo(() => {\n\t\tif (isResolving) {\n\t\t\treturn false;\n\t\t}\n\t\tif (canDelete) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}, [isResolving, canDelete]);\n\n\t// Initially resolve if there is saved data.\n\tuseEffect(() => {\n\t\tif (loading && meta) {\n\t\t\tconst { reportMaterials, multiSectionReport } = meta;\n\t\t\tif (reportMaterials) {\n\t\t\t\tsetMaterials(reportMaterials);\n\t\t\t}\n\t\t\tif (multiSectionReport) {\n\t\t\t\tsetBackChapters(multiSectionReport);\n\t\t\t}\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [meta, loading]);\n\n\t// Update the post meta on the parent post as we change materials and back chapters.\n\tuseEffect(() => {\n\t\tif (!loading && allowEditing && (materials || backChapters)) {\n\t\t\tconst updates = {...meta};\n\t\t\tif (materials) {\n\t\t\t\tupdates.reportMaterials = materials;\n\t\t\t}\n\t\t\tif (backChapters) {\n\t\t\t\tupdates.multiSectionReport = backChapters;\n\t\t\t}\n\t\t\tsetMeta(updates);\n\t\t}\n\t}, [allowEditing, materials, backChapters]);\n\n\t//\n\t//\n\t//\n\n\tconst getLatestStateByItemType = (itemsType = 'materials') => {\n\t\tif ( 'materials' === itemsType ) {\n\t\t\treturn [...materials];\n\t\t} else if ( 'backChapters' === itemsType ) {\n\t\t\treturn [...backChapters];\n\t\t}\n\t\treturn [];\n\t};\n\n\tconst reorder = (oldIndex, newIndex, itemsType = 'materials') => {\n\t\tif (!allowEditing) {\n\t\t\treturn;\n\t\t}\n\t\tconst newItems = getLatestStateByItemType(itemsType);\n\n\t\t// Do reordering.\n\t\tconst item = newItems[oldIndex];\n\t\tnewItems.splice(oldIndex, 1);\n\t\tnewItems.splice(newIndex, 0, item);\n\n\t\tlet fn = () => console.log('reorder', oldIndex, newIndex, itemsType);\n\t\tif ( 'materials' === itemsType ) {\n\t\t\tfn = setMaterials;\n\t\t} else if ( 'backChapters' === itemsType ) {\n\t\t\tfn = setBackChapters;\n\t\t}\n\n\t\tfn(newItems);\n\t};\n\n\tconst append = (key, value = {}, itemsType = 'materials') => {\n\t\tif (!allowEditing) {\n\t\t\treturn;\n\t\t}\n\t\tconst newItems = getLatestStateByItemType(itemsType);\n\n\t\tconst obj = {\n\t\t\tkey,\n\t\t};\n\t\tObject.assign(obj, value);\n\t\tnewItems.push(obj);\n\n\t\tlet fn = () => console.log('append', key, value, obj, itemsType);\n\t\tif ( 'materials' === itemsType ) {\n\t\t\tfn = setMaterials;\n\t\t} else if ( 'backChapters' === itemsType ) {\n\t\t\tfn = setBackChapters;\n\t\t}\n\t\tfn(newItems);\n\t};\n\n\tconst remove = (index, itemsType = 'materials') => {\n\t\tif (!allowEditing) {\n\t\t\treturn;\n\t\t}\n\t\tconst newItems = getLatestStateByItemType(itemsType);\n\n\t\tnewItems.splice(index, 1);\n\n\t\tlet fn = () => console.log('remove', index, itemsType);\n\t\tif ( 'materials' === itemsType ) {\n\t\t\tfn = setMaterials;\n\t\t} else if ( 'backChapters' === itemsType ) {\n\t\t\tfn = setBackChapters;\n\t\t}\n\n\t\tfn(newItems);\n\t};\n\n\tconst updateItem = (index, valueKey, value, itemsType = 'materials') => {\n\t\tif (!allowEditing) {\n\t\t\treturn;\n\t\t}\n\t\tconst newItems = getLatestStateByItemType(itemsType);\n\n\t\tnewItems[index][valueKey] = value;\n\n\t\tlet fn = () => console.log('updateItem', index, valueKey, value, itemsType);\n\t\tif ( 'materials' === itemsType ) {\n\t\t\tfn = setMaterials;\n\t\t} else if ( 'backChapters' === itemsType ) {\n\t\t\tfn = setBackChapters;\n\t\t}\n\n\t\tfn(newItems);\n\t};\n\n\t//\n\t//\n\t//\n\n\treturn {\n\t\tloading,\n\t\tallowEditing,\n\t\tpostId,\n\t\tpostType,\n\t\tmaterials,\n\t\tbackChapters,\n\t\treorder,\n\t\tappend,\n\t\tremove,\n\t\tupdateItem,\n\t};\n};\n\nconst usePostReportPackage = () => useContext(postReportPackageContext);\n\nfunction ProvidePostReportPackage({ postId, postType, children }) {\n\tconst provider = usePostReportPackageContext(postId, postType);\n\treturn (\n\t\t<postReportPackageContext.Provider value={provider}>\n\t\t\t{children}\n\t\t</postReportPackageContext.Provider>\n\t);\n}\n\nexport { ProvidePostReportPackage, usePostReportPackage };\nexport default ProvidePostReportPackage;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactDOM\"];","export function arrayMove(array, from, to) {\n    array = array.slice();\n    array.splice(to < 0 ? array.length + to : to, 0, array.splice(from, 1)[0]);\n    return array;\n}\nexport function arrayRemove(array, index) {\n    array = array.slice();\n    array.splice(index, 1);\n    return array;\n}\nexport function getTranslateOffset(element) {\n    const style = window.getComputedStyle(element);\n    return (Math.max(parseInt(style['margin-top'], 10), parseInt(style['margin-bottom'], 10)) + element.getBoundingClientRect().height);\n}\nexport function isTouchEvent(event) {\n    return ((event.touches && event.touches.length) ||\n        (event.changedTouches && event.changedTouches.length));\n}\nexport function transformItem(element, offsetY = 0, offsetX = 0) {\n    if (!element)\n        return;\n    if (offsetY === null || offsetX === null) {\n        element.style.removeProperty('transform');\n        return;\n    }\n    element.style.transform = `translate(${offsetX}px, ${offsetY}px)`;\n}\nexport function isItemTransformed(element) {\n    return !!element.style.transform;\n}\nexport function setItemTransition(element, duration, timing) {\n    if (element) {\n        element.style['transition'] = `transform ${duration}ms${timing ? ` ${timing}` : ''}`;\n    }\n}\n// returns the \"slot\" for the targetValue, aka where it should go\n// in an ordered \"array\", it starts with -1 index\nexport function binarySearch(array, targetValue) {\n    let min = 0;\n    let max = array.length - 1;\n    let guess;\n    while (min <= max) {\n        guess = Math.floor((max + min) / 2);\n        if (!array[guess + 1] ||\n            (array[guess] <= targetValue && array[guess + 1] >= targetValue)) {\n            return guess;\n        }\n        else if (array[guess] < targetValue && array[guess + 1] < targetValue) {\n            min = guess + 1;\n        }\n        else {\n            max = guess - 1;\n        }\n    }\n    return -1;\n}\n// adapted from https://github.com/alexreardon/raf-schd\nexport const schd = (fn) => {\n    let lastArgs = [];\n    let frameId = null;\n    const wrapperFn = (...args) => {\n        lastArgs = args;\n        if (frameId) {\n            return;\n        }\n        frameId = requestAnimationFrame(() => {\n            frameId = null;\n            fn(...lastArgs);\n        });\n    };\n    wrapperFn.cancel = () => {\n        if (frameId) {\n            cancelAnimationFrame(frameId);\n        }\n    };\n    return wrapperFn;\n};\nexport function checkIfInteractive(target, rootElement) {\n    const DISABLED_ELEMENTS = [\n        'input',\n        'textarea',\n        'select',\n        'option',\n        'optgroup',\n        'video',\n        'audio',\n        'button',\n        'a'\n    ];\n    const DISABLED_ROLES = ['button', 'link', 'checkbox', 'tab'];\n    while (target !== rootElement) {\n        if (target.getAttribute('data-movable-handle')) {\n            return false;\n        }\n        if (DISABLED_ELEMENTS.includes(target.tagName.toLowerCase())) {\n            return true;\n        }\n        const role = target.getAttribute('role');\n        if (role && DISABLED_ROLES.includes(role.toLowerCase())) {\n            return true;\n        }\n        if (target.tagName.toLowerCase() === 'label' &&\n            target.hasAttribute('for')) {\n            return true;\n        }\n        if (target.tagName)\n            target = target.parentElement;\n    }\n    return false;\n}\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { getTranslateOffset, transformItem, setItemTransition, binarySearch, schd, isTouchEvent, checkIfInteractive } from './utils.js';\nconst AUTOSCROLL_ACTIVE_OFFSET = 200;\nconst AUTOSCROLL_SPEED_RATIO = 10;\nclass List extends React.Component {\n    constructor(props) {\n        super(props);\n        this.listRef = React.createRef();\n        this.ghostRef = React.createRef();\n        this.topOffsets = [];\n        this.itemTranslateOffsets = [];\n        this.initialYOffset = 0;\n        this.lastScroll = 0;\n        this.lastYOffset = 0;\n        this.lastListYOffset = 0;\n        this.needle = -1;\n        this.afterIndex = -2;\n        this.state = {\n            itemDragged: -1,\n            itemDraggedOutOfBounds: -1,\n            selectedItem: -1,\n            initialX: 0,\n            initialY: 0,\n            targetX: 0,\n            targetY: 0,\n            targetHeight: 0,\n            targetWidth: 0,\n            liveText: '',\n            scrollingSpeed: 0,\n            scrollWindow: false\n        };\n        this.doScrolling = () => {\n            const { scrollingSpeed, scrollWindow } = this.state;\n            const listEl = this.listRef.current;\n            window.requestAnimationFrame(() => {\n                if (scrollWindow) {\n                    window.scrollTo(window.pageXOffset, window.pageYOffset + scrollingSpeed * 1.5);\n                }\n                else {\n                    listEl.scrollTop += scrollingSpeed;\n                }\n                if (scrollingSpeed !== 0) {\n                    this.doScrolling();\n                }\n            });\n        };\n        this.getChildren = () => {\n            if (this.listRef && this.listRef.current) {\n                return Array.from(this.listRef.current.children);\n            }\n            console.warn('No items found in the List container. Did you forget to pass & spread the `props` param in renderList?');\n            return [];\n        };\n        this.calculateOffsets = () => {\n            this.topOffsets = this.getChildren().map((item) => item.getBoundingClientRect().top);\n            this.itemTranslateOffsets = this.getChildren().map((item) => getTranslateOffset(item));\n        };\n        this.getTargetIndex = (e) => {\n            return this.getChildren().findIndex((child) => child === e.target || child.contains(e.target));\n        };\n        this.onMouseOrTouchStart = (e) => {\n            if (this.dropTimeout && this.state.itemDragged > -1) {\n                window.clearTimeout(this.dropTimeout);\n                this.finishDrop();\n            }\n            const isTouch = isTouchEvent(e);\n            if (!isTouch && e.button !== 0)\n                return;\n            const index = this.getTargetIndex(e);\n            if (index === -1 ||\n                // @ts-ignore\n                (this.props.values[index] && this.props.values[index].disabled)) {\n                if (this.state.selectedItem !== -1) {\n                    this.setState({ selectedItem: -1 });\n                    this.finishDrop();\n                }\n                return;\n            }\n            const listItemTouched = this.getChildren()[index];\n            const handle = listItemTouched.querySelector('[data-movable-handle]');\n            if (handle && !handle.contains(e.target)) {\n                return;\n            }\n            if (checkIfInteractive(e.target, listItemTouched)) {\n                return;\n            }\n            e.preventDefault();\n            this.props.beforeDrag &&\n                this.props.beforeDrag({\n                    elements: this.getChildren(),\n                    index\n                });\n            if (isTouch) {\n                const opts = { passive: false };\n                listItemTouched.style.touchAction = 'none';\n                document.addEventListener('touchend', this.schdOnEnd, opts);\n                document.addEventListener('touchmove', this.schdOnTouchMove, opts);\n                document.addEventListener('touchcancel', this.schdOnEnd, opts);\n            }\n            else {\n                document.addEventListener('mousemove', this.schdOnMouseMove);\n                document.addEventListener('mouseup', this.schdOnEnd);\n                const listItemDragged = this.getChildren()[this.state.itemDragged];\n                if (listItemDragged && listItemDragged.style) {\n                    listItemDragged.style.touchAction = '';\n                }\n            }\n            this.onStart(listItemTouched, isTouch ? e.touches[0].clientX : e.clientX, isTouch ? e.touches[0].clientY : e.clientY, index);\n        };\n        this.getYOffset = () => {\n            const listScroll = this.listRef.current\n                ? this.listRef.current.scrollTop\n                : 0;\n            return window.pageYOffset + listScroll;\n        };\n        this.onStart = (target, clientX, clientY, index) => {\n            if (this.state.selectedItem > -1) {\n                this.setState({ selectedItem: -1 });\n                this.needle = -1;\n            }\n            const targetRect = target.getBoundingClientRect();\n            const targetStyles = window.getComputedStyle(target);\n            this.calculateOffsets();\n            this.initialYOffset = this.getYOffset();\n            this.lastYOffset = window.pageYOffset;\n            this.lastListYOffset = this.listRef.current.scrollTop;\n            this.setState({\n                itemDragged: index,\n                targetX: targetRect.left - parseInt(targetStyles['margin-left'], 10),\n                targetY: targetRect.top - parseInt(targetStyles['margin-top'], 10),\n                targetHeight: targetRect.height,\n                targetWidth: targetRect.width,\n                initialX: clientX,\n                initialY: clientY\n            });\n        };\n        this.onMouseMove = (e) => {\n            e.cancelable && e.preventDefault();\n            this.onMove(e.clientX, e.clientY);\n        };\n        this.onTouchMove = (e) => {\n            e.cancelable && e.preventDefault();\n            this.onMove(e.touches[0].clientX, e.touches[0].clientY);\n        };\n        this.onWheel = (e) => {\n            if (this.state.itemDragged < 0)\n                return;\n            this.lastScroll = this.listRef.current.scrollTop += e.deltaY;\n            this.moveOtherItems();\n        };\n        this.onMove = (clientX, clientY) => {\n            if (this.state.itemDragged === -1)\n                return null;\n            transformItem(this.ghostRef.current, clientY - this.state.initialY, this.props.lockVertically ? 0 : clientX - this.state.initialX);\n            this.autoScrolling(clientY);\n            this.moveOtherItems();\n        };\n        this.moveOtherItems = () => {\n            const targetRect = this.ghostRef.current.getBoundingClientRect();\n            const itemVerticalCenter = targetRect.top + targetRect.height / 2;\n            const offset = getTranslateOffset(this.getChildren()[this.state.itemDragged]);\n            const currentYOffset = this.getYOffset();\n            // adjust offsets if scrolling happens during the item movement\n            if (this.initialYOffset !== currentYOffset) {\n                this.topOffsets = this.topOffsets.map((offset) => offset - (currentYOffset - this.initialYOffset));\n                this.initialYOffset = currentYOffset;\n            }\n            if (this.isDraggedItemOutOfBounds() && this.props.removableByMove) {\n                this.afterIndex = this.topOffsets.length + 1;\n            }\n            else {\n                this.afterIndex = binarySearch(this.topOffsets, itemVerticalCenter);\n            }\n            this.animateItems(this.afterIndex === -1 ? 0 : this.afterIndex, this.state.itemDragged, offset);\n        };\n        this.autoScrolling = (clientY) => {\n            const { top, bottom, height } = this.listRef.current.getBoundingClientRect();\n            const viewportHeight = window.innerHeight || document.documentElement.clientHeight;\n            // autoscrolling for the window (down)\n            if (bottom > viewportHeight &&\n                viewportHeight - clientY < AUTOSCROLL_ACTIVE_OFFSET) {\n                this.setState({\n                    scrollingSpeed: Math.round((AUTOSCROLL_ACTIVE_OFFSET - (viewportHeight - clientY)) /\n                        AUTOSCROLL_SPEED_RATIO),\n                    scrollWindow: true\n                });\n                // autoscrolling for the window (up)\n            }\n            else if (top < 0 && clientY < AUTOSCROLL_ACTIVE_OFFSET) {\n                this.setState({\n                    scrollingSpeed: Math.round((AUTOSCROLL_ACTIVE_OFFSET - clientY) / -AUTOSCROLL_SPEED_RATIO),\n                    scrollWindow: true\n                });\n            }\n            else {\n                if (this.state.scrollWindow && this.state.scrollingSpeed !== 0) {\n                    this.setState({ scrollingSpeed: 0, scrollWindow: false });\n                }\n                // autoscrolling for containers with overflow\n                if (height + 20 < this.listRef.current.scrollHeight) {\n                    let scrollingSpeed = 0;\n                    if (clientY - top < AUTOSCROLL_ACTIVE_OFFSET) {\n                        scrollingSpeed = Math.round((AUTOSCROLL_ACTIVE_OFFSET - (clientY - top)) /\n                            -AUTOSCROLL_SPEED_RATIO);\n                    }\n                    else if (bottom - clientY < AUTOSCROLL_ACTIVE_OFFSET) {\n                        scrollingSpeed = Math.round((AUTOSCROLL_ACTIVE_OFFSET - (bottom - clientY)) /\n                            AUTOSCROLL_SPEED_RATIO);\n                    }\n                    if (this.state.scrollingSpeed !== scrollingSpeed) {\n                        this.setState({ scrollingSpeed });\n                    }\n                }\n            }\n        };\n        this.animateItems = (needle, movedItem, offset, animateMovedItem = false) => {\n            this.getChildren().forEach((item, i) => {\n                setItemTransition(item, this.props.transitionDuration);\n                if (movedItem === i && animateMovedItem) {\n                    if (movedItem === needle) {\n                        return transformItem(item, null);\n                    }\n                    transformItem(item, movedItem < needle\n                        ? this.itemTranslateOffsets\n                            .slice(movedItem + 1, needle + 1)\n                            .reduce((a, b) => a + b, 0)\n                        : this.itemTranslateOffsets\n                            .slice(needle, movedItem)\n                            .reduce((a, b) => a + b, 0) * -1);\n                }\n                else if (movedItem < needle && i > movedItem && i <= needle) {\n                    transformItem(item, -offset);\n                }\n                else if (i < movedItem && movedItem > needle && i >= needle) {\n                    transformItem(item, offset);\n                }\n                else {\n                    transformItem(item, null);\n                }\n            });\n        };\n        this.isDraggedItemOutOfBounds = () => {\n            const initialRect = this.getChildren()[this.state.itemDragged].getBoundingClientRect();\n            const targetRect = this.ghostRef.current.getBoundingClientRect();\n            if (Math.abs(initialRect.left - targetRect.left) > targetRect.width) {\n                if (this.state.itemDraggedOutOfBounds === -1) {\n                    this.setState({ itemDraggedOutOfBounds: this.state.itemDragged });\n                }\n                return true;\n            }\n            if (this.state.itemDraggedOutOfBounds > -1) {\n                this.setState({ itemDraggedOutOfBounds: -1 });\n            }\n            return false;\n        };\n        this.onEnd = (e) => {\n            e.cancelable && e.preventDefault();\n            document.removeEventListener('mousemove', this.schdOnMouseMove);\n            document.removeEventListener('touchmove', this.schdOnTouchMove);\n            document.removeEventListener('mouseup', this.schdOnEnd);\n            document.removeEventListener('touchup', this.schdOnEnd);\n            document.removeEventListener('touchcancel', this.schdOnEnd);\n            const removeItem = this.props.removableByMove && this.isDraggedItemOutOfBounds();\n            if (!removeItem &&\n                this.props.transitionDuration > 0 &&\n                this.afterIndex !== -2) {\n                // animate drop\n                schd(() => {\n                    setItemTransition(this.ghostRef.current, this.props.transitionDuration, 'cubic-bezier(.2,1,.1,1)');\n                    if (this.afterIndex < 1 && this.state.itemDragged === 0) {\n                        transformItem(this.ghostRef.current, 0, 0);\n                    }\n                    else {\n                        transformItem(this.ghostRef.current, \n                        // compensate window scroll\n                        -(window.pageYOffset - this.lastYOffset) +\n                            // compensate container scroll\n                            -(this.listRef.current.scrollTop - this.lastListYOffset) +\n                            (this.state.itemDragged < this.afterIndex\n                                ? this.itemTranslateOffsets\n                                    .slice(this.state.itemDragged + 1, this.afterIndex + 1)\n                                    .reduce((a, b) => a + b, 0)\n                                : this.itemTranslateOffsets\n                                    .slice(this.afterIndex < 0 ? 0 : this.afterIndex, this.state.itemDragged)\n                                    .reduce((a, b) => a + b, 0) * -1), 0);\n                    }\n                })();\n            }\n            this.dropTimeout = window.setTimeout(this.finishDrop, removeItem || this.afterIndex === -2 ? 0 : this.props.transitionDuration);\n        };\n        this.finishDrop = () => {\n            const removeItem = this.props.removableByMove && this.isDraggedItemOutOfBounds();\n            if (removeItem ||\n                (this.afterIndex > -2 && this.state.itemDragged !== this.afterIndex)) {\n                this.props.onChange({\n                    oldIndex: this.state.itemDragged,\n                    newIndex: removeItem ? -1 : Math.max(this.afterIndex, 0),\n                    targetRect: this.ghostRef.current.getBoundingClientRect()\n                });\n            }\n            this.getChildren().forEach((item) => {\n                setItemTransition(item, 0);\n                transformItem(item, null);\n                item.style.touchAction = '';\n            });\n            this.setState({ itemDragged: -1, scrollingSpeed: 0 });\n            this.afterIndex = -2;\n            // sometimes the scroll gets messed up after the drop, fix:\n            if (this.lastScroll > 0) {\n                this.listRef.current.scrollTop = this.lastScroll;\n                this.lastScroll = 0;\n            }\n        };\n        this.onKeyDown = (e) => {\n            const selectedItem = this.state.selectedItem;\n            const index = this.getTargetIndex(e);\n            if (checkIfInteractive(e.target, e.currentTarget)) {\n                return;\n            }\n            if (index === -1)\n                return;\n            if (e.key === ' ') {\n                e.preventDefault();\n                if (selectedItem === index) {\n                    if (selectedItem !== this.needle) {\n                        this.getChildren().forEach((item) => {\n                            setItemTransition(item, 0);\n                            transformItem(item, null);\n                        });\n                        this.props.onChange({\n                            oldIndex: selectedItem,\n                            newIndex: this.needle,\n                            targetRect: this.getChildren()[this.needle].getBoundingClientRect()\n                        });\n                        this.getChildren()[this.needle].focus();\n                    }\n                    this.setState({\n                        selectedItem: -1,\n                        liveText: this.props.voiceover.dropped(selectedItem + 1, this.needle + 1)\n                    });\n                    this.needle = -1;\n                }\n                else {\n                    this.setState({\n                        selectedItem: index,\n                        liveText: this.props.voiceover.lifted(index + 1)\n                    });\n                    this.needle = index;\n                    this.calculateOffsets();\n                }\n            }\n            if ((e.key === 'ArrowDown' || e.key === 'j') &&\n                selectedItem > -1 &&\n                this.needle < this.props.values.length - 1) {\n                e.preventDefault();\n                const offset = getTranslateOffset(this.getChildren()[selectedItem]);\n                this.needle++;\n                this.animateItems(this.needle, selectedItem, offset, true);\n                this.setState({\n                    liveText: this.props.voiceover.moved(this.needle + 1, false)\n                });\n            }\n            if ((e.key === 'ArrowUp' || e.key === 'k') &&\n                selectedItem > -1 &&\n                this.needle > 0) {\n                e.preventDefault();\n                const offset = getTranslateOffset(this.getChildren()[selectedItem]);\n                this.needle--;\n                this.animateItems(this.needle, selectedItem, offset, true);\n                this.setState({\n                    liveText: this.props.voiceover.moved(this.needle + 1, true)\n                });\n            }\n            if (e.key === 'Escape' && selectedItem > -1) {\n                this.getChildren().forEach((item) => {\n                    setItemTransition(item, 0);\n                    transformItem(item, null);\n                });\n                this.setState({\n                    selectedItem: -1,\n                    liveText: this.props.voiceover.canceled(selectedItem + 1)\n                });\n                this.needle = -1;\n            }\n            if ((e.key === 'Tab' || e.key === 'Enter') && selectedItem > -1) {\n                e.preventDefault();\n            }\n        };\n        this.schdOnMouseMove = schd(this.onMouseMove);\n        this.schdOnTouchMove = schd(this.onTouchMove);\n        this.schdOnEnd = schd(this.onEnd);\n    }\n    componentDidMount() {\n        this.calculateOffsets();\n        document.addEventListener('touchstart', this.onMouseOrTouchStart, {\n            passive: false,\n            capture: false\n        });\n        document.addEventListener('mousedown', this.onMouseOrTouchStart);\n    }\n    componentDidUpdate(_prevProps, prevState) {\n        if (prevState.scrollingSpeed !== this.state.scrollingSpeed &&\n            prevState.scrollingSpeed === 0) {\n            this.doScrolling();\n        }\n    }\n    componentWillUnmount() {\n        document.removeEventListener('touchstart', this.onMouseOrTouchStart);\n        document.removeEventListener('mousedown', this.onMouseOrTouchStart);\n        if (this.dropTimeout) {\n            window.clearTimeout(this.dropTimeout);\n        }\n        this.schdOnMouseMove.cancel();\n        this.schdOnTouchMove.cancel();\n        this.schdOnEnd.cancel();\n    }\n    render() {\n        const baseStyle = {\n            userSelect: 'none',\n            WebkitUserSelect: 'none',\n            MozUserSelect: 'none',\n            msUserSelect: 'none',\n            boxSizing: 'border-box',\n            position: 'relative'\n        };\n        const ghostStyle = {\n            ...baseStyle,\n            top: this.state.targetY,\n            left: this.state.targetX,\n            width: this.state.targetWidth,\n            height: this.state.targetHeight,\n            position: 'fixed',\n            marginTop: 0\n        };\n        return (React.createElement(React.Fragment, null,\n            this.props.renderList({\n                children: this.props.values.map((value, index) => {\n                    const isHidden = index === this.state.itemDragged;\n                    const isSelected = index === this.state.selectedItem;\n                    const isDisabled = \n                    // @ts-ignore\n                    this.props.values[index] && this.props.values[index].disabled;\n                    const props = {\n                        key: index,\n                        tabIndex: isDisabled ? -1 : 0,\n                        'aria-roledescription': this.props.voiceover.item(index + 1),\n                        onKeyDown: this.onKeyDown,\n                        style: {\n                            ...baseStyle,\n                            visibility: isHidden ? 'hidden' : undefined,\n                            zIndex: isSelected ? 5000 : 0\n                        }\n                    };\n                    return this.props.renderItem({\n                        value,\n                        props,\n                        index,\n                        isDragged: false,\n                        isSelected,\n                        isOutOfBounds: false\n                    });\n                }),\n                isDragged: this.state.itemDragged > -1,\n                props: {\n                    ref: this.listRef\n                }\n            }),\n            this.state.itemDragged > -1 &&\n                ReactDOM.createPortal(this.props.renderItem({\n                    value: this.props.values[this.state.itemDragged],\n                    props: {\n                        ref: this.ghostRef,\n                        style: ghostStyle,\n                        onWheel: this.onWheel\n                    },\n                    index: this.state.itemDragged,\n                    isDragged: true,\n                    isSelected: false,\n                    isOutOfBounds: this.state.itemDraggedOutOfBounds > -1\n                }), this.props.container || document.body),\n            React.createElement(\"div\", { \"aria-live\": \"assertive\", role: \"log\", \"aria-atomic\": \"true\", style: {\n                    position: 'absolute',\n                    width: '1px',\n                    height: '1px',\n                    margin: '-1px',\n                    border: '0px',\n                    padding: '0px',\n                    overflow: 'hidden',\n                    clip: 'rect(0px, 0px, 0px, 0px)',\n                    clipPath: 'inset(100%)'\n                } }, this.state.liveText)));\n    }\n}\nList.defaultProps = {\n    transitionDuration: 300,\n    lockVertically: false,\n    removableByMove: false,\n    voiceover: {\n        item: (position) => `You are currently at a draggable item at position ${position}. Press space bar to lift.`,\n        lifted: (position) => `You have lifted item at position ${position}. Press j to move down, k to move up, space bar to drop and escape to cancel.`,\n        moved: (position, up) => `You have moved the lifted item ${up ? 'up' : 'down'} to position ${position}. Press j to move down, k to move up, space bar to drop and escape to cancel.`,\n        dropped: (from, to) => `You have dropped the item. It has moved from position ${from} to ${to}.`,\n        canceled: (position) => `You have cancelled the movement. The item has returned to its starting position of ${position}.`\n    }\n};\nexport default List;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","function randomId() {\n\t// Math.random should be unique because of its seeding algorithm.\n\t// Convert it to base 36 (numbers + letters), and grab the first 9 characters\n\t// after the decimal.\n\treturn `_${Math.random().toString(36).substr(2, 9)}`;\n}\n\nexport {\n\trandomId,\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst dragHandle = createElement(SVG, {\n  width: \"24\",\n  height: \"24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z\"\n}));\nexport default dragHandle;\n//# sourceMappingURL=drag-handle.js.map","/**\n * WordPress Dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { Icon, IconButton } from '@wordpress/components';\nimport { dragHandle } from '@wordpress/icons';\n\nexport default function ListItem({\n\tlabel,\n\tdefaultLabel,\n\tkeyValue,\n\tindex,\n\tchildren,\n\tonRemove = false,\n\tlastItem = false,\n\ticon = false,\n}) {\n\tconst [labelText, setLabelText] = useState(\n\t\tundefined !== label ? label : defaultLabel,\n\t);\n\n\tconst getPostTitleByKey = (postId) => {\n\t\tconst { api } = window.wp;\n\t\tconst post = new api.models.Post({ id: postId });\n\t\tif (null === postId) {\n\t\t\tsetLabelText(defaultLabel);\n\t\t} else {\n\t\t\tpost.fetch().then((matched) => {\n\t\t\t\tconsole.log(matched);\n\t\t\t\tsetLabelText(\n\t\t\t\t\t`${decodeEntities(matched.title.rendered)} (${matched.id})`,\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconsole.log(\n\t\t\t'getPostTitleByKey',\n\t\t\tlabel,\n\t\t\tdefaultLabel,\n\t\t\tkeyValue,\n\t\t\tindex,\n\t\t);\n\t\tif (undefined === label && undefined !== keyValue) {\n\t\t\tgetPostTitleByKey(keyValue);\n\t\t}\n\t}, [keyValue]);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tbackground: 'white',\n\t\t\t\tpaddingBottom: '1em',\n\t\t\t\tmarginBottom: '1em',\n\t\t\t\tborderBottom: lastItem ? 'none' : '1px solid #EAEAEA',\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t<Icon icon={dragHandle} />\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexGrow: '1',\n\t\t\t\t\t\tpaddingLeft: '1em',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{false !== icon && { icon }}\n\t\t\t\t\t<span>{labelText}</span>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (false !== onRemove && 'function' === typeof onRemove) {\n\t\t\t\t\t\t\t\tonRemove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcHooks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","/**\n * External Dependencies\n */\nimport { useDebounce } from '@prc/hooks';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { Modal, ButtonGroup, Button, Spinner, TextControl } from '@wordpress/components';\nimport { getQueryArg } from '@wordpress/url';\n\nconst { api } = window.wp;\n\nconst PostSearchByEditUrlField = ({\n    hocOnChange = false,\n}) => {\n    const [modalOpen, toggleModal] = useState(false);\n    const [isLoading, toggleLoading] = useState(false);\n    const [postTitle, setPostTitle] = useState();\n    const [searchValue, setSearchValue] = useState();\n    const postUrl = useDebounce(searchValue, 1000);\n    const [searchResult, setSearchResult] = useState(false);\n\n    const confirm = () => {\n        const {id} = searchResult;\n        // Do one last double check\n        const post = new api.models.Post( { id } );\n        post.fetch().then((matched) => {\n            if ( matched.id === searchResult.id ) {\n                toggleModal(false);\n                setSearchResult(false);\n                if ( false !== hocOnChange ) {\n                    hocOnChange(matched.id);\n                }\n            } else {\n                alert('Uhoh, somethings wrong here. The expected post id does not match the given id.');\n            }\n        });\n    }\n\n    const deny = () => {\n        setSearchValue('');\n        setSearchResult(false);\n    }\n\n    const fetchPostByEditURL = (val) => {\n        const postId = getQueryArg(val, 'post');\n\t\tconsole.log('fetchPostByEditURL', val);\n        const post = new api.models.Post( { id: postId } );\n        post.fetch().then((matched) => {\n            console.log('matched?', matched);\n            setPostTitle(matched.title.rendered);\n            setSearchResult(matched);\n            toggleModal(true);\n        }).always(()=>{\n            toggleLoading(false);\n        });\n    };\n\n    // const getPostTitleById = (id) => {\n    //     const post = new api.models.Post( { id } );\n    //     post.fetch().then((matched) => {\n    //         setPostTitle(matched.title.rendered);\n    //     });\n    // }\n\n    useEffect(()=>{\n\t\tconsole.log('postUrl', postUrl);\n        if ( undefined !== postUrl && 3 <= postUrl.length ) {\n            fetchPostByEditURL(postUrl);\n        }\n    }, [postUrl]);\n\n    return (\n        <Fragment>\n            <div style={{display: 'flex', flexDirection:'row'}}>\n                <div style={{flexGrow: '1'}}>\n                    <TextControl autoComplete=\"off\" onChange={ val => { toggleLoading(true); setSearchValue(val); }} placeholder=\"Paste post's edit url...\"/>\n                </div>\n                <div>\n                    {isLoading && <Spinner/>}\n                </div>\n            </div>\n            { true === modalOpen && (\n                <Modal\n\t\t\t\t\ttitle={__('Confirm Post', 'prc-platform-post-report-package')}\n\t\t\t\t\tonRequestClose={()=>{toggleModal(false)}}\n\t\t\t\t>\n                    <p>Add <strong>{decodeEntities(postTitle)}</strong> post as child?</p>\n                    <ButtonGroup>\n                        <Button variant=\"secondary\" onClick={deny}>\n                            No\n                        </Button>\n                        <Button variant=\"primary\" onClick={confirm}>\n                            Yes\n                        </Button>\n                    </ButtonGroup>\n                </Modal>\n            )}\n        </Fragment>\n\n    );\n};\n\nexport default PostSearchByEditUrlField;\n","/**\n * External Dependencies\n */\nimport { List } from 'react-movable';\n\n/**\n * WordPress Dependencies\n */\nimport { Button, PanelBody } from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { randomId } from '../utils';\nimport { usePostReportPackage } from '../context';\nimport ListItem from '../ListItem';\nimport PostSearchByEditUrlField from './PostSearchByEditUrlField';\n\nexport default function BackChapters() {\n\tconst ITEMS_TYPE = 'backChapters';\n\tconst { backChapters, reorder, append, remove, updateItem } = usePostReportPackage();\n\n\treturn (\n\t\t<PanelBody title=\"Back Chapters\">\n\t\t\t<List\n\t\t\t\tlockVertically\n\t\t\t\tvalues={backChapters ?? []}\n\t\t\t\tonChange={({ oldIndex, newIndex }) =>\n\t\t\t\t\treorder(oldIndex, newIndex, ITEMS_TYPE)\n\t\t\t\t}\n\t\t\t\trenderList={({ children, props }) => <div {...props}>{children}</div>}\n\t\t\t\trenderItem={({ value, props, index }) => (\n\t\t\t\t\t<div {...props}>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\tkey={value.key}\n\t\t\t\t\t\t\tdefaultLabel=\"Child Post\"\n\t\t\t\t\t\t\tkeyValue={value.postId}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tonRemove={() => remove(index, ITEMS_TYPE)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{null === value.postId && (\n\t\t\t\t\t\t\t\t<PostSearchByEditUrlField\n\t\t\t\t\t\t\t\t\thocOnChange={(postId) => updateItem(index, 'postId', postId, ITEMS_TYPE)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={() =>\n\t\t\t\t\tappend(\n\t\t\t\t\t\trandomId(),\n\t\t\t\t\t\t{ postId: null },\n\t\t\t\t\t\tITEMS_TYPE,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\tAdd Back Chapter\n\t\t\t</Button>\n\t\t</PanelBody>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","import { Popover, SelectControl } from '@wordpress/components';\n\nconst types = [\n\t// Datasets are added automatically by the hooks and filters in the datasets system and as such are not defined here.\n\t{\n\t\tlabel: 'Default',\n\t\tvalue: null,\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Detailed Table',\n\t\tvalue: 'detailedTable',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Link',\n\t\tvalue: 'link',\n\t\ticon: null, // Select an icon\n\t},\n\t{\n\t\tlabel: 'Presentation',\n\t\tvalue: 'presentation',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Press Release',\n\t\tvalue: 'pressRelease',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Promo',\n\t\tvalue: 'promo',\n\t\ticon: null, // Upload an image\n\t},\n\t{\n\t\tlabel: 'Q & A',\n\t\tvalue: 'qA',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Questionnaire',\n\t\tvalue: 'questionnaire',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Report PDF',\n\t\tvalue: 'report',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Supplemental',\n\t\tvalue: 'supplemental',\n\t\ticon: null,\n\t},\n\t{\n\t\tlabel: 'Topline',\n\t\tvalue: 'topline',\n\t\ticon: null,\n\t},\n];\n\nconst TypeSelect = ({ type = null, onChange, toggleVisibility }) => {\n\tconst options = types;\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"prc-report-material-popover\"\n\t\t\tnoArrow={false}\n\t\t\tonFocusOutside={() => {\n\t\t\t\ttoggleVisibility(false);\n\t\t\t}}\n\t\t>\n\t\t\t<div style={{ padding: '0.6em', minWidth: '140px' }}>\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\tvalue={type}\n\t\t\t\t\toptions={options}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\nexport { TypeSelect, types };\n\nexport default TypeSelect;\n","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useState } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\tIcon,\n\tIconButton,\n\tSelectControl,\n\tTextControl,\n} from '@wordpress/components';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\n\n/**\n * Internal Dependencies\n */\nimport { TypeSelect, types } from './type-select';\nimport { usePostReportPackage } from '../context';\nimport ListItem from '../ListItem'\n\nconst ALLOWED_MEDIA_TYPES = [\n\t'image',\n\t'application/pdf',\n\t'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t'application/vnd.ms-powerpoint',\n\t'application/vnd.ms-excel',\n\t'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n];\n\nconst ICONS = {\n\tdetailedTable: 'editor-table',\n\tlink: 'admin-links',\n\tpresentation: 'format-gallery',\n\tpressRelease: 'media-document',\n\tpromo: 'star-empty',\n\tqA: 'clipboard',\n\tquestionnaire: 'editor-help',\n\treport: 'analytics',\n\tsupplemental: 'welcome-add-page',\n\ttopline: 'editor-ul',\n};\n\nconst Item = ({ type, url, attachmentId, label, icon, index }) => {\n\tconst ITEMS_TYPE = 'materials';\n\tconst { updateItem, allowEditing, remove } = usePostReportPackage();\n\tconst [popoverVisible, toggleVisibility] = useState(false);\n\n\tconst UploadFileButton = ({ title, value }) => {\n\t\treturn (\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<MediaUpload\n\t\t\t\t\ttitle={`Upload ${title}`}\n\t\t\t\t\tallowedTypes={ALLOWED_MEDIA_TYPES}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonSelect={(img) => {\n\t\t\t\t\t\tupdateItem(index, 'url', img.url, ITEMS_TYPE);\n\t\t\t\t\t\tupdateItem(index, 'attachmentId', img.id, ITEMS_TYPE);\n\t\t\t\t\t}}\n\t\t\t\t\trender={({ open }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button variant=\"secondary\" disabled={!allowEditing} onClick={open}>\n\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\tnull === value\n\t\t\t\t\t\t\t\t\t\t? `Upload ${title}`\n\t\t\t\t\t\t\t\t\t\t: `Change ${title}`\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</MediaUploadCheck>\n\t\t);\n\t};\n\n\tconst getLabel = () => {\n\t\tconst t = types.find((x) => x.value === type);\n\t\tif (undefined !== t) {\n\t\t\treturn t.label;\n\t\t}\n\t\treturn '';\n\t};\n\n\tconst getValue = () => {\n\t\tconst t = types.find((x) => x.value === type);\n\t\tif (undefined !== t) {\n\t\t\treturn t.value;\n\t\t}\n\t\treturn '';\n\t};\n\n\treturn (\n\t\t<ListItem label={getLabel()} index={index} onRemove={() => remove(index, ITEMS_TYPE)}>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tpaddingTop: '10px',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{[\n\t\t\t\t\t'report',\n\t\t\t\t\t'questionnaire',\n\t\t\t\t\t'detailedTable',\n\t\t\t\t\t'powerpoint',\n\t\t\t\t\t'presentation',\n\t\t\t\t\t'pressRelease',\n\t\t\t\t\t'topline',\n\t\t\t\t].includes(type) && (\n\t\t\t\t\t<UploadFileButton title={getLabel()} value={attachmentId} />\n\t\t\t\t)}\n\t\t\t\t{['presentation', 'pressRelease'].includes(type) && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tautoComplete={false}\n\t\t\t\t\t\t\tlabel=\"URL\"\n\t\t\t\t\t\t\tvalue={url}\n\t\t\t\t\t\t\tonChange={(u) => updateItem(index, 'url', u, ITEMS_TYPE)}\n\t\t\t\t\t\t\tdisabled={!allowEditing}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t{['link', 'promo', 'qA', 'supplemental'].includes(type) && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tautoComplete={false}\n\t\t\t\t\t\t\tlabel=\"Label\"\n\t\t\t\t\t\t\tvalue={label}\n\t\t\t\t\t\t\tonChange={(c) => updateItem(index, 'label', c, ITEMS_TYPE)}\n\t\t\t\t\t\t\tdisabled={!allowEditing}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tautoComplete={false}\n\t\t\t\t\t\t\tlabel=\"URL\"\n\t\t\t\t\t\t\tvalue={url}\n\t\t\t\t\t\t\tonChange={(u) => updateItem(index, 'url', u, ITEMS_TYPE)}\n\t\t\t\t\t\t\tdisabled={!allowEditing}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{'link' === type && (\n\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\tlabel=\"Icon\"\n\t\t\t\t\t\t\t\tvalue={icon}\n\t\t\t\t\t\t\t\toptions={types}\n\t\t\t\t\t\t\t\tonChange={(t) => {\n\t\t\t\t\t\t\t\t\tconsole.log(t);\n\t\t\t\t\t\t\t\t\tupdateItem(index, 'icon', t, ITEMS_TYPE);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tdisabled={!allowEditing}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{'promo' === type && (\n\t\t\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\t\t\ttitle=\"Upload Promo Icon\"\n\t\t\t\t\t\t\t\t\tvalue={attachmentId}\n\t\t\t\t\t\t\t\t\tonSelect={(img) => {\n\t\t\t\t\t\t\t\t\t\tupdateItem(index, 'icon', img.url, ITEMS_TYPE);\n\t\t\t\t\t\t\t\t\t\tupdateItem(\n\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\t'attachmentId',\n\t\t\t\t\t\t\t\t\t\t\timg.id,\n\t\t\t\t\t\t\t\t\t\t\tITEMS_TYPE\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ open }) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={open} disabled={!allowEditing}>\n\t\t\t\t\t\t\t\t\t\t\t\tUpload Icon\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\ttoggleVisibility(true);\n\t\t\t\t\t\tconsole.log('toggleVisibility');\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ height: 'auto' }}\n\t\t\t\t\tdisabled={!allowEditing}\n\t\t\t\t>\n\t\t\t\t\tChange Type\n\t\t\t\t</Button>\n\t\t\t\t{popoverVisible && (\n\t\t\t\t\t<TypeSelect\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tonChange={(t) => {\n\t\t\t\t\t\t\t// Set up the new type\n\t\t\t\t\t\t\tupdateItem(index, 'type', t, ITEMS_TYPE);\n\t\t\t\t\t\t\t// Reset everything else\n\t\t\t\t\t\t\tupdateItem(index, 'attachmentId', 0, ITEMS_TYPE);\n\t\t\t\t\t\t\tupdateItem(index, 'url', '', ITEMS_TYPE);\n\t\t\t\t\t\t\tupdateItem(index, 'label', '', ITEMS_TYPE);\n\t\t\t\t\t\t\tupdateItem(index, 'icon', '', ITEMS_TYPE);\n\t\t\t\t\t\t\ttoggleVisibility(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttoggleVisibility={toggleVisibility}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</ListItem>\n\t);\n};\n\nexport default Item;\n","/**\n * External Dependencies\n */\nimport { List } from 'react-movable';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport { Button, PanelBody } from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { randomId } from '../utils';\nimport { usePostReportPackage } from '../context';\nimport Item from './Item';\nimport { TypeSelect } from './type-select';\n\nfunction ReportMaterials() {\n\tconst [popoverVisible, toggleVisibility] = useState(false);\n\n\tconst ITEMS_TYPE = 'materials';\n\tconst { materials, reorder, append, remove, updateItem, isResolving } = usePostReportPackage();\n\n\treturn (\n\t\t<PanelBody title=\"Materials\">\n\t\t\t<List\n\t\t\t\tlockVertically\n\t\t\t\tvalues={materials ?? []}\n\t\t\t\tonChange={({ oldIndex, newIndex }) =>\n\t\t\t\t\treorder(oldIndex, newIndex, ITEMS_TYPE)\n\t\t\t\t}\n\t\t\t\trenderList={({ children, props }) => (\n\t\t\t\t\t<div {...props}>{children}</div>\n\t\t\t\t)}\n\t\t\t\trenderItem={({ value, props, index }) => (\n\t\t\t\t\t<div {...props}>\n\t\t\t\t\t\t<Item\n\t\t\t\t\t\t\tkey={value.key}\n\t\t\t\t\t\t\ttype={value.type}\n\t\t\t\t\t\t\turl={value.url}\n\t\t\t\t\t\t\tlabel={value.label}\n\t\t\t\t\t\t\ticon={value.icon}\n\t\t\t\t\t\t\tattachmentId={value.attachmentId}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\ttoggleVisibility(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{__('Add Report Material')}\n\t\t\t</Button>\n\t\t\t{popoverVisible && (\n\t\t\t\t<TypeSelect\n\t\t\t\t\tonChange={(t) => {\n\t\t\t\t\t\tappend(\n\t\t\t\t\t\t\trandomId(),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: t,\n\t\t\t\t\t\t\t\turl: '',\n\t\t\t\t\t\t\t\tattachmentId: 0,\n\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\ticon: '',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tITEMS_TYPE\n\t\t\t\t\t\t);\n\t\t\t\t\t\ttoggleVisibility(false);\n\t\t\t\t\t}}\n\t\t\t\t\ttoggleVisibility={toggleVisibility}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</PanelBody>\n\t);\n};\n\nexport default ReportMaterials;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcIcons\"];","/**\n * External Dependencies\n */\nimport { icons, Icon } from '@prc/icons';\n\nexport default function() {\n\treturn(\n\t\t<Icon\n\t\t\ticon={icons.faBookBookmark}\n\t\t\twidth={24}\n\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t/>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment } from '@wordpress/element';\nimport { registerPlugin } from '@wordpress/plugins';\nimport { PluginSidebar, PluginPrePublishPanel } from '@wordpress/edit-post';\nimport { store as editorStore } from '@wordpress/editor';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal Dependencies\n */\nimport { ProvidePostReportPackage } from './context';\nimport BackChapters from './back-chapters';\nimport ReportMaterials from './materials';\nimport Icon from './Icon';\n\nconst PLUGIN_NAME = 'prc-platform-post-report-package';\n\nfunction ReportPackagePanel() {\n\tconst { postType, postId, parentId, isChildPost } = useSelect(\n\t\t(select) => {\n\t\t\tconst post_parent = select(editorStore).getEditedPostAttribute('post_parent');\n\t\t\tconst currentPostType = select(editorStore).getCurrentPostType();\n\t\t\tconst currentPostId = select(editorStore).getCurrentPostId();\n\t\t\tconst currentParentId = 0 !== post_parent ? post_parent : currentPostId;\n\t\t\treturn {\n\t\t\t\tpostType: currentPostType,\n\t\t\t\tpostId: currentPostId,\n\t\t\t\tparentId: currentParentId,\n\t\t\t\tisChildPost: 0 !== post_parent,\n\t\t\t}\n\t\t},\n\t\t[]\n\t);\n\treturn (\n\t\t\t<PluginSidebar name={PLUGIN_NAME} title=\"Report Package\" icon={Icon}>\n\t\t\t\t<ProvidePostReportPackage {...{\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId: parentId,\n\t\t\t\t}}>\n\t\t\t\t\t<ReportMaterials />\n\t\t\t\t\t<BackChapters />\n\t\t\t\t</ProvidePostReportPackage>\n\t\t\t</PluginSidebar>\n\t);\n}\n\n\n{/* <PluginPrePublishPanel>\n\t<p>Hi There!</p>\n\t<p>IN theory... this should share context and state in the same memory object as the sidebar panel.</p>\n</PluginPrePublishPanel> */}\n\n// Pre publish to confirm your chapters.\n\nregisterPlugin(PLUGIN_NAME, {\n\trender: ReportPackagePanel,\n});\n"],"names":["window","postReportPackageContext","createContext","usePostReportPackage","useContext","ProvidePostReportPackage","postId","postType","children","provider","usePostReportPackageContext","loading","setIsLoading","useState","materials","setMaterials","backChapters","setBackChapters","meta","setMeta","useEntityProp","canDelete","isResolving","useResourcePermissions","allowEditing","useMemo","useEffect","reportMaterials","multiSectionReport","updates","getLatestStateByItemType","itemsType","reorder","oldIndex","newIndex","newItems","item","splice","fn","console","log","append","key","value","obj","Object","assign","push","remove","index","updateItem","valueKey","createElement","Provider","getTranslateOffset","element","style","getComputedStyle","Math","max","parseInt","getBoundingClientRect","height","transformItem","offsetY","offsetX","transform","removeProperty","setItemTransition","duration","timing","schd","lastArgs","frameId","wrapperFn","args","requestAnimationFrame","cancel","cancelAnimationFrame","checkIfInteractive","target","rootElement","DISABLED_ELEMENTS","DISABLED_ROLES","getAttribute","includes","tagName","toLowerCase","role","hasAttribute","parentElement","AUTOSCROLL_ACTIVE_OFFSET","List","constructor","props","super","this","listRef","ghostRef","topOffsets","itemTranslateOffsets","initialYOffset","lastScroll","lastYOffset","lastListYOffset","needle","afterIndex","state","itemDragged","itemDraggedOutOfBounds","selectedItem","initialX","initialY","targetX","targetY","targetHeight","targetWidth","liveText","scrollingSpeed","scrollWindow","doScrolling","listEl","current","scrollTo","pageXOffset","pageYOffset","scrollTop","getChildren","Array","from","warn","calculateOffsets","map","top","getTargetIndex","e","findIndex","child","contains","onMouseOrTouchStart","dropTimeout","clearTimeout","finishDrop","isTouch","event","touches","length","changedTouches","button","values","disabled","setState","listItemTouched","handle","querySelector","preventDefault","beforeDrag","elements","opts","passive","touchAction","document","addEventListener","schdOnEnd","schdOnTouchMove","schdOnMouseMove","listItemDragged","onStart","clientX","clientY","getYOffset","listScroll","targetRect","targetStyles","left","width","onMouseMove","cancelable","onMove","onTouchMove","onWheel","deltaY","moveOtherItems","lockVertically","autoScrolling","itemVerticalCenter","offset","currentYOffset","isDraggedItemOutOfBounds","removableByMove","array","targetValue","guess","min","floor","binarySearch","animateItems","bottom","viewportHeight","innerHeight","documentElement","clientHeight","round","scrollHeight","movedItem","animateMovedItem","forEach","i","transitionDuration","slice","reduce","a","b","initialRect","abs","onEnd","removeEventListener","removeItem","setTimeout","onChange","onKeyDown","currentTarget","focus","voiceover","dropped","lifted","moved","canceled","componentDidMount","capture","componentDidUpdate","_prevProps","prevState","componentWillUnmount","render","baseStyle","userSelect","WebkitUserSelect","MozUserSelect","msUserSelect","boxSizing","position","ghostStyle","marginTop","renderList","isHidden","isSelected","tabIndex","visibility","undefined","zIndex","renderItem","isDragged","isOutOfBounds","ref","container","body","margin","border","padding","overflow","clip","clipPath","defaultProps","up","to","randomId","random","toString","substr","SVG","xmlns","viewBox","Path","d","ListItem","label","defaultLabel","keyValue","onRemove","lastItem","icon","labelText","setLabelText","api","wp","post","models","Post","id","fetch","then","matched","decodeEntities","title","rendered","getPostTitleByKey","background","paddingBottom","marginBottom","borderBottom","display","flexDirection","alignItems","Icon","dragHandle","flexGrow","paddingLeft","IconButton","onClick","PostSearchByEditUrlField","hocOnChange","modalOpen","toggleModal","isLoading","toggleLoading","postTitle","setPostTitle","searchValue","setSearchValue","postUrl","useDebounce","searchResult","setSearchResult","val","getQueryArg","always","fetchPostByEditURL","Fragment","TextControl","autoComplete","placeholder","Spinner","Modal","__","onRequestClose","ButtonGroup","Button","variant","deny","confirm","alert","BackChapters","ITEMS_TYPE","PanelBody","types","TypeSelect","type","toggleVisibility","options","Popover","className","noArrow","onFocusOutside","minWidth","SelectControl","ALLOWED_MEDIA_TYPES","Item","url","attachmentId","popoverVisible","getLabel","t","find","x","paddingTop","UploadFileButton","MediaUploadCheck","MediaUpload","allowedTypes","onSelect","img","open","u","c","icons","faBookBookmark","preserveAspectRatio","PLUGIN_NAME","registerPlugin","parentId","isChildPost","useSelect","select","post_parent","editorStore","getEditedPostAttribute","currentPostType","getCurrentPostType","currentPostId","getCurrentPostId","PluginSidebar","name","ReportMaterials"],"sourceRoot":""}