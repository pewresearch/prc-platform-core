{"version":3,"file":"view.js","mappings":"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","sources":["webpack://@pewresearch/prc-platform-facets-context-provider/external import \"@wordpress/interactivity-router\"","webpack://@pewresearch/prc-platform-facets-context-provider/external module \"@wordpress/interactivity\"","webpack://@pewresearch/prc-platform-facets-context-provider/webpack/bootstrap","webpack://@pewresearch/prc-platform-facets-context-provider/webpack/runtime/make namespace object","webpack://@pewresearch/prc-platform-facets-context-provider/./src/view.js"],"sourcesContent":["module.exports = import(\"@wordpress/interactivity-router\");;","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress Dependencies\n */\nimport { store, getElement, getContext } from '@wordpress/interactivity';\n\nconst { addQueryArgs } = window.wp.url;\n\nfunction constructNewUrl(selected = false) {\n\tconst tmp = {};\n\tif (false === selected) {\n\t\treturn;\n\t}\n\t// Construct a comma separated string for each selected facet.\n\tObject.keys(selected).forEach((key) => {\n\t\tif (Array.isArray(selected[key])) {\n\t\t\ttmp[`_${key}`] = selected[key].join(',');\n\t\t} else {\n\t\t\ttmp[`_${key}`] = selected[key];\n\t\t}\n\t});\n\t// Double check tmp, if it has a key with empty value, remove it.\n\tObject.keys(tmp).forEach((key) => {\n\t\t// Check if tmp[key] is an empty string or an empty array.\n\t\tif (tmp[key] === '') {\n\t\t\tdelete tmp[key];\n\t\t}\n\t});\n\t// Remove any query args on the current url.\n\tconst stableUrl = window.location.href.split('?')[0];\n\t// If our url has /page/x/ in it, we need to remove that, we're sending the user back to the first page.\n\tconst stableUrlClean = stableUrl.replace(/\\/page\\/\\d+\\//, '/');\n\tconst newUrl = addQueryArgs(stableUrlClean, tmp);\n\tconsole.log(\n\t\t'facets-context-provider::constructNewUrl = :::::',\n\t\tstableUrlClean,\n\t\ttmp,\n\t\tnewUrl\n\t);\n\treturn newUrl;\n}\n\nconst { state, actions } = store('prc-platform/facets-context-provider', {\n\tstate: {\n\t\tmouseEnterPreFetchTimer: 500,\n\t\tnavigateTimer: 1000,\n\t\tget getSelected() {\n\t\t\treturn state.selected;\n\t\t},\n\t\tget getUpdatedUrl() {\n\t\t\tif (undefined === state.selected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn constructNewUrl(state.selected);\n\t\t},\n\t},\n\tactions: {\n\t\t*updateResults() {\n\t\t\tconst selected = state.getSelected;\n\t\t\tconst currentUrl = window.location.href;\n\t\t\tconst newUrl = state.getUpdatedUrl;\n\n\t\t\tif (newUrl === currentUrl) {\n\t\t\t\tconsole.log(\n\t\t\t\t\t'facets-context-provider::updateResults (NO CHANGE)',\n\t\t\t\t\t'No change...'\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.isProcessing = true;\n\n\t\t\tconsole.log(\n\t\t\t\t'facets-context-provider::updateResults (CHANGE DETECTED)',\n\t\t\t\tObject.keys(selected),\n\t\t\t\tnewUrl,\n\t\t\t\tcurrentUrl\n\t\t\t);\n\n\t\t\tconst router = yield import('@wordpress/interactivity-router');\n\t\t\tyield router.actions.navigate(newUrl);\n\n\t\t\tstate.isProcessing = false;\n\t\t},\n\t\tonCheckboxClick: (event) => {\n\t\t\tif (event.target.tagName === 'LABEL') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst input = ref.querySelector('input');\n\t\t\tconst { id } = input;\n\t\t\tconst { checked, value, type } = state[id];\n\t\t\tconsole.log(\n\t\t\t\t'facets-context-provider::onCheckboxClick',\n\t\t\t\tcontext,\n\t\t\t\tstate[id]\n\t\t\t);\n\n\t\t\tstate[id].checked = !checked;\n\t\t\t// The wpKey of the parent parent element, the facet-template block, contains the facet slug.\n\t\t\tconst facetSlug = ref.parentElement.parentElement.dataset.wpKey;\n\n\t\t\tif (!state.selected[facetSlug]) {\n\t\t\t\tstate.selected[facetSlug] = [];\n\t\t\t}\n\t\t\tif (state.selected[facetSlug].includes(value)) {\n\t\t\t\tstate.selected[facetSlug] = state.selected[facetSlug].filter(\n\t\t\t\t\t(item) => item !== value\n\t\t\t\t);\n\t\t\t} else if ('radio' === type) {\n\t\t\t\tstate.selected[facetSlug] = [value];\n\t\t\t} else {\n\t\t\t\tstate.selected[facetSlug] = [\n\t\t\t\t\t...state.selected[facetSlug],\n\t\t\t\t\tvalue,\n\t\t\t\t];\n\t\t\t}\n\t\t\tconsole.log(\n\t\t\t\t'facets-context-provider::onCheckboxClick',\n\t\t\t\tref,\n\t\t\t\tstate,\n\t\t\t\tid,\n\t\t\t\tcontext\n\t\t\t);\n\t\t},\n\t\tonSelectChange: (value, ref) => {\n\t\t\tconst facetSlug =\n\t\t\t\tref.parentElement.parentElement.parentElement.dataset.wpKey;\n\t\t\tconst currentSelected = state.getSelected;\n\t\t\tconst newSelected = currentSelected;\n\t\t\tif (!currentSelected[facetSlug]) {\n\t\t\t\tnewSelected[facetSlug] = [value];\n\t\t\t} else if (currentSelected[facetSlug].includes(value)) {\n\t\t\t\tnewSelected[facetSlug] = newSelected[facetSlug].filter(\n\t\t\t\t\t(item) => item !== value\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnewSelected[facetSlug] = [value];\n\t\t\t}\n\n\t\t\tstate.selected = newSelected;\n\t\t},\n\t\t*prefetch(newUrl) {\n\t\t\tconst router = yield import('@wordpress/interactivity-router');\n\n\t\t\t// check if newUrl is in state.prefetched and if not then\n\t\t\t// 1. add it to the state.prefetched\n\t\t\t// 2. prefetch it. otherwise return.\n\t\t\tif (state.prefetched.includes(newUrl)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tstate.prefetched.push(newUrl);\n\n\t\t\tconsole.log(\n\t\t\t\t'facets-context-provider::prefetch',\n\t\t\t\tnewUrl,\n\t\t\t\tstate.prefetched\n\t\t\t);\n\t\t\tyield router.actions.prefetch(newUrl);\n\t\t},\n\t\t*onCheckboxMouseEnter(event) {\n\t\t\tif (event.target.tagName === 'LABEL') {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst input = ref.querySelector('input');\n\t\t\tconst { id } = input;\n\t\t\tconst { value } = state[id];\n\t\t\t// The wpKey of the parent parent element, the facet-template block, contains the facet slug.\n\t\t\tconst facetSlug = ref.parentElement.parentElement.dataset.wpKey;\n\n\t\t\tconst currentlySelected = state.selected;\n\t\t\tconst nextSelected = { ...currentlySelected, [facetSlug]: value };\n\t\t\tconst nextUrl = constructNewUrl(nextSelected);\n\t\t\tyield actions.prefetch(nextUrl);\n\t\t},\n\t\tonClear: (facetSlug, facetValue = null) => {\n\t\t\tconst tmp = state.selected;\n\t\t\t// if there is no facetSlug then clear all...\n\t\t\tif (!facetSlug) {\n\t\t\t\tstate.selected = {};\n\t\t\t\t// lets also re-run the updateResults.\n\t\t\t\tactions.updateResults();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// If there is a facet value then lets remove it for the facetSlug but keep the rest.\n\t\t\tif (facetValue) {\n\t\t\t\ttmp[facetSlug] = tmp[facetSlug].filter(\n\t\t\t\t\t(item) => item !== facetValue\n\t\t\t\t);\n\t\t\t\tstate.selected = { ...tmp };\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Clear all inputs that have the value of the facetSlug.\n\t\t\tObject.keys(state).find((key) => {\n\t\t\t\tif (\n\t\t\t\t\ttypeof state[key] === 'object' &&\n\t\t\t\t\ttmp[facetSlug].includes(state[key]?.value)\n\t\t\t\t) {\n\t\t\t\t\tstate[key].checked = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tdelete tmp[facetSlug];\n\t\t\tstate.selected = { ...tmp };\n\t\t},\n\t},\n\tcallbacks: {\n\t\tonSelection() {\n\t\t\tconst selected = state.getSelected;\n\t\t\tconst keysLength = Object.keys(selected).length;\n\t\t\tconsole.log(\n\t\t\t\t'facets-context-provider::onSelection()',\n\t\t\t\tselected,\n\t\t\t\tObject.keys(selected),\n\t\t\t\tkeysLength\n\t\t\t);\n\t\t\t// No selections? Disable the update button.\n\t\t\tif (keysLength <= 0) {\n\t\t\t\tstate.isDisabled = true;\n\t\t\t} else {\n\t\t\t\t// Once we have some selections, lets run a refresh.\n\t\t\t\tactions.updateResults();\n\t\t\t\tstate.isDisabled = false;\n\t\t\t}\n\t\t},\n\t},\n});\n"],"names":["store","getElement","getContext","addQueryArgs","window","wp","url","constructNewUrl","selected","tmp","Object","keys","forEach","key","Array","isArray","join","stableUrl","location","href","split","stableUrlClean","replace","newUrl","console","log","state","actions","mouseEnterPreFetchTimer","navigateTimer","getSelected","getUpdatedUrl","undefined","updateResults","currentUrl","isProcessing","router","navigate","onCheckboxClick","event","target","tagName","preventDefault","context","ref","input","querySelector","id","checked","value","type","facetSlug","parentElement","dataset","wpKey","includes","filter","item","onSelectChange","currentSelected","newSelected","prefetch","prefetched","push","onCheckboxMouseEnter","currentlySelected","nextSelected","nextUrl","onClear","facetValue","find","callbacks","onSelection","keysLength","length","isDisabled"],"sourceRoot":""}