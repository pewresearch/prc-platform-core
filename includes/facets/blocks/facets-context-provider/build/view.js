import*as e from"@wordpress/interactivity";var t={438:e=>{e.exports=import("@wordpress/interactivity-router")}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var c=r[e]={exports:{}};return t[e](c,c.exports,n),c.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const t=(s={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},c={},n.d(c,s),c),{addQueryArgs:r}=window.wp.url;var s,c;function o(e=!1){const t={};if(!1===e)return;Object.keys(e).forEach((r=>{Array.isArray(e[r])?t[`_${r}`]=e[r].join(","):t[`_${r}`]=e[r]})),Object.keys(t).forEach((e=>{""===t[e]&&delete t[e]}));const n=window.location.href.split("?")[0].replace(/\/page\/\d+\//,"/");return r(n,t)}const{state:l,actions:a}=(0,t.store)("prc-platform/facets-context-provider",{state:{mouseEnterPreFetchTimer:500,navigateTimer:1e3,get getSelected(){return l.selected},get getUpdatedUrl(){if(void 0!==l.selected)return o(l.selected)}},actions:{*updateResults(){l.getSelected;const e=window.location.href,t=l.getUpdatedUrl;if(t===e)return;l.isProcessing=!0;const r=yield Promise.resolve().then(n.bind(n,438));yield r.actions.navigate(t),l.isProcessing=!1},onCheckboxClick:e=>{"LABEL"===e.target.tagName&&e.preventDefault(),(0,t.getContext)();const{ref:r}=(0,t.getElement)(),n=r.querySelector("input"),{id:s}=n,{checked:c,value:o,type:a}=l[s];l[s].checked=!c;const d=r.parentElement.parentElement.dataset.wpKey;l.selected[d]||(l.selected[d]=[]),l.selected[d].includes(o)?l.selected[d]=l.selected[d].filter((e=>e!==o)):l.selected[d]="radio"===a?[o]:[...l.selected[d],o]},onSelectChange:(e,t,r,n,s)=>{const c=t.parentElement.parentElement.parentElement.dataset.wpKey,o=l.getSelected,a=o;o[c]&&o[c].includes(e)?a[c]=a[c].filter((t=>t!==e)):a[c]=[e],l.selected=a},onSelectClearIconClick:e=>{const t=e.parentElement.parentElement.dataset.wpKey;a.onClear(t,null)},*prefetch(e){const t=yield Promise.resolve().then(n.bind(n,438));l.prefetched.includes(e)||(l.prefetched.push(e),yield t.actions.prefetch(e))},*onCheckboxMouseEnter(e){"LABEL"===e.target.tagName&&e.preventDefault(),(0,t.getContext)();const{ref:r}=(0,t.getElement)(),n=r.querySelector("input"),{id:s}=n,{value:c}=l[s],d=r.parentElement.parentElement.dataset.wpKey,i=o({...l.selected,[d]:c});yield a.prefetch(i)},onClear:(e,t=null)=>{const r=l.selected;return e?t?(r[e]=r[e].filter((e=>e!==t)),void(l.selected={...r})):(Object.keys(l).find((t=>{"object"==typeof l[t]&&r[e].includes(l[t]?.value)&&(l[t].checked=!1)})),delete r[e],void(l.selected={...r})):(l.selected={},void a.updateResults())}},callbacks:{onSelection(){const e=l.getSelected;Object.keys(e).length<=0?l.isDisabled=!0:(a.updateResults(),l.isDisabled=!1)}}})})();
//# sourceMappingURL=view.js.map