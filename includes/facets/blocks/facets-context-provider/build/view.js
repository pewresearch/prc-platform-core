import*as e from"@wordpress/interactivity";var t={438:e=>{e.exports=import("@wordpress/interactivity-router")}},o={};function s(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,s),l.exports}s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const t=(c={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},r={},s.d(r,c),r),{addQueryArgs:o}=window.wp.url,{state:n,actions:l}=(0,t.store)("prc-platform/facets-context-provider",{state:{processing:!1,mouseEnterPreFetchTimer:500,navigateTimer:1e3,get getSelected(){return n.selected},get getUpdatedUrl(){console.log("getUpdatedUrl...",n);const e={};if(void 0===n.selected)return;Object.keys(n.selected).forEach((t=>{Array.isArray(n.selected[t])?e[t]=n.selected[t].join(","):e[t]=n.selected[t]})),Object.keys(e).forEach((t=>{console.log(e[t]),""===e[t]&&delete e[t]}));const t=window.location.href.split("?")[0].replace(/\/page\/\d+\//,"/"),s=o(t,e);return console.log("getUpdatedUrl=",t,e,s),s}},actions:{*updateResults(){const e=n.getSelected;yield Promise.resolve().then(s.bind(s,438)),console.log("updateResults",e,Object.keys(e));const t=n.getUpdatedUrl;console.log("updating...",t,Object.keys(e),e),n.isProcessing=!1},*onButtonClick(){window.location.href=window.location.href},onCheckboxClick:e=>{"LABEL"===e.target.tagName&&e.preventDefault();const o=(0,t.getContext)(),{ref:s}=(0,t.getElement)(),l=s.querySelector("input"),{id:c}=l,{checked:r,value:d,type:a}=n[c];n[c].checked=!r;const i=s.parentElement.parentElement.dataset.wpKey;n.selected[i]||(n.selected[i]=[]),n.selected[i].includes(d)?n.selected[i]=n.selected[i].filter((e=>e!==d)):n.selected[i]="radio"===a?[d]:[...n.selected[i],d],console.log("onCheckboxClick",s,n,c,o)},onSelectChange:(e,t)=>{const o=t.parentElement.dataset.wpKey;console.log("onSelectChange",o,e,t),n.selected[o]||(n.selected[o]=[e]),n.selected[o].includes(e)?n.selected[o]=n.selected[o].filter((t=>t!==e)):n.selected[o]=[e]},onClear:e=>{console.log("onClear",e,n);const t=n.selected;Object.keys(n).find((o=>{"object"==typeof n[o]&&t[e].includes(n[o]?.value)&&(n[o].checked=!1)})),delete t[e],n.selected={...t}},onFacetTokenClick:()=>{const{ref:e,props:o}=(0,t.getElement)(),s=`_${o["data-wp-key"]}`;l.onClear(s)}},callbacks:{onInit(){n["update-results-button"].isDisabled=!0,console.log("facets context provider onInit",n)},*onSelection(){const e=n.getSelected;console.log("onSelection",e,Object.keys(e)),Object.keys(e).length>0&&(console.log("If there are no selected facets, don't enable the button and dont run the query..."),n["update-results-button"].isDisabled=!1,setTimeout((()=>{l.updateResults()}),500))}}});var c,r})();
