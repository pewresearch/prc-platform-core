import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var l in o)t.o(o,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(r={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},d={},t.d(d,r),d),{addQueryArgs:l}=window.wp.url,{context:c,state:n,actions:s}=(0,o.store)("prc-platform/facets-context-provider",{state:{inputIds:{},mouseEnterPreFetchTimer:500,navigateTimer:1e3,get getSelected(){return n.selected},get getUpdatedUrl(){const e={};if(console.log("...",n),void 0===n.selected)return;Object.keys(n.selected).forEach((t=>{Array.isArray(n.selected[t])?e[t]=n.selected[t].join(","):e[t]=n.selected[t]})),Object.keys(e).forEach((t=>{console.log(e[t]),""===e[t]&&delete e[t]}));const t=window.location.href.split("?")[0].replace(/\/page\/\d+\//,"/"),o=l(t,e);return console.log("getUpdatedUrl",t,e,o),o}},actions:{updateResults:()=>{const e=n.getSelected;if(console.log("updateResults",e),void 0!==e)if(Object.keys(e).length>0){const e=n.getUpdatedUrl;window.location.href=e}else{const e=window.location.href.split("?")[0];window.location.href=e}},onButtonClick:()=>{s.updateResults()},onCheckboxClick:e=>{"LABEL"===e.target.tagName&&e.preventDefault();const t=(0,o.getContext)(),{ref:l}=(0,o.getElement)(),c=l.querySelector("input"),{id:s}=c,{checked:r,value:d,type:a}=n[s];n[s].checked=!r;const i=l.parentElement.parentElement.dataset.wpKey;n.selected[i]||(n.selected[i]=[]),n.selected[i].includes(d)?n.selected[i]=n.selected[i].filter((e=>e!==d)):n.selected[i]="radio"===a?[d]:[...n.selected[i],d],console.log("onCheckboxClick",l,n,s,t)},onSelectChange:(e,t)=>{const o=t.parentElement.dataset.wpKey;console.log("onSelectChange",o,e,t),n.selected[o]||(n.selected[o]=[]),n.selected[o].includes(e)?n.selected[o]=n.selected[o].filter((t=>t!==e)):n.selected[o]=[e]},onClear:e=>{console.log("onClear",e,n);const t=n.selected;Object.keys(n).find((o=>{"object"==typeof n[o]&&t[e].includes(n[o]?.value)&&(n[o].checked=!1)})),delete t[e],n.selected={...t}},onFacetTokenClick:()=>{const{ref:e,props:t}=(0,o.getElement)(),l=`_${t["data-wp-key"]}`;s.onClear(l)}},callbacks:{onInit(){},*onSelection(){}}});var r,d;
//# sourceMappingURL=view.js.map