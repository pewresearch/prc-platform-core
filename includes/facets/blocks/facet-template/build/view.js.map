{"version":3,"file":"view.js","mappings":"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","sources":["webpack://facet-template/webpack/bootstrap","webpack://facet-template/webpack/runtime/define property getters","webpack://facet-template/webpack/runtime/hasOwnProperty shorthand","webpack://facet-template/external module \"@wordpress/interactivity\"","webpack://facet-template/./src/view.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"getContext\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getContext), [\"getElement\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getElement), [\"getServerContext\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getServerContext), [\"getServerState\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getServerState), [\"store\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.store) });","/**\n * WordPress Dependencies\n */\nimport {\n\tstore,\n\tgetElement,\n\tgetContext,\n\tgetServerContext,\n\tgetServerState,\n} from '@wordpress/interactivity';\n\n/**\n * Internal Dependencies\n */\n\nfunction formatCount(count) {\n\treturn count;\n\t// return 250 <= count ? '250+' : count;\n}\n\nfunction getPropertyFromServerChoice(property, searchValue, values) {\n\tconst choice = values.find((c) => c.value === searchValue);\n\treturn choice ? choice[property] : null;\n}\n\nconst { state, actions } = store('prc-platform/facets-context-provider', {\n\tstate: {\n\t\t// These get values for each choice scoped to their context.\n\t\tget label() {\n\t\t\tconst context = getContext().choice;\n\t\t\tconst { facetSlug, label, value } = context;\n\t\t\tconst count = getPropertyFromServerChoice(\n\t\t\t\t'count',\n\t\t\t\tvalue,\n\t\t\t\tgetServerState().facets[facetSlug].choices\n\t\t\t);\n\t\t\treturn `${label} (${formatCount(count)})`;\n\t\t},\n\t\tget isSelected() {\n\t\t\tconst { facetSlug, value } = getContext().choice;\n\t\t\treturn state.selected[facetSlug].includes(value);\n\t\t},\n\t\tget checked() {\n\t\t\tconst { facetSlug, value } = getContext().choice;\n\t\t\treturn state.selected[facetSlug].includes(value);\n\t\t},\n\t\tget id() {\n\t\t\tconst context = getContext();\n\t\t\treturn `facet_${context.choice.slug}_${context.choice.term_id}`;\n\t\t},\n\t\tget type() {\n\t\t\treturn getContext().choice.type;\n\t\t},\n\t\tget value() {\n\t\t\treturn getContext().choice.value;\n\t\t},\n\t\tget slug() {\n\t\t\treturn getContext().choice.slug;\n\t\t},\n\t\tget name() {\n\t\t\treturn getContext().choice.slug;\n\t\t},\n\t\tget facetSlug() {\n\t\t\treturn getContext().choice.facetSlug;\n\t\t},\n\t\tget hasExpandedChoices() {\n\t\t\treturn (\n\t\t\t\tgetServerContext().expandedChoices &&\n\t\t\t\tgetServerContext().expandedChoices.length > 0\n\t\t\t);\n\t\t},\n\t\tget placeholder() {\n\t\t\tconst context = getContext();\n\t\t\tconst { facetSlug, placeholder } = context;\n\t\t\tconst { selected } = state;\n\t\t\tconst selectedValues = selected[facetSlug];\n\t\t\tlet plchldr = `Select ${placeholder}`;\n\t\t\tif (undefined !== selectedValues && 1 <= selectedValues.length) {\n\t\t\t\tplchldr = selectedValues\n\t\t\t\t\t.map((value) =>\n\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t.replace(/-/g, ' ')\n\t\t\t\t\t\t\t.split(' ')\n\t\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t\t(word) =>\n\t\t\t\t\t\t\t\t\tword.charAt(0).toUpperCase() + word.slice(1)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.join(' ')\n\t\t\t\t\t)\n\t\t\t\t\t.join(', ');\n\t\t\t}\n\t\t\treturn plchldr;\n\t\t},\n\t\tget facetChoices() {\n\t\t\treturn getServerContext().choices;\n\t\t},\n\t\tget facetExpandedChoices() {\n\t\t\treturn getServerContext().expandedChoices;\n\t\t},\n\t\tget filterableFacetChoices() {\n\t\t\tconst { searchValue } = getContext();\n\t\t\tconst { data } = getServerContext();\n\t\t\tif (!searchValue) {\n\t\t\t\treturn data;\n\t\t\t}\n\t\t\tconsole.log('filtering...', searchValue, data);\n\t\t\t// This takes a search term and filters the choices based on the search term.\n\t\t\tconst matches = data.filter((choice) => {\n\t\t\t\tconst { label } = choice;\n\t\t\t\treturn label.toLowerCase().includes(searchValue.toLowerCase());\n\t\t\t});\n\t\t\treturn matches;\n\t\t},\n\t\tget hasSelections() {\n\t\t\tconst { facetSlug } = getContext();\n\t\t\tconst { selected } = state;\n\t\t\treturn selected[facetSlug].length > 0;\n\t\t},\n\t},\n\tactions: {\n\t\t/**\n\t\t * When clicking on the clear button, clear the facet from the selections.\n\t\t */\n\t\tclearFacet: () => {\n\t\t\tconst { facetSlug } = getContext();\n\t\t\tactions.onClear(facetSlug);\n\t\t},\n\t\tonCheckboxClick: () => {\n\t\t\tconst { value, facetSlug, getSelected } = state;\n\n\t\t\tif (\n\t\t\t\t!getSelected[facetSlug] ||\n\t\t\t\tgetSelected[facetSlug].length === 0\n\t\t\t) {\n\t\t\t\tstate.selected[facetSlug] = [value];\n\t\t\t} else if (getSelected[facetSlug].includes(value)) {\n\t\t\t\tstate.selected[facetSlug] = getSelected[facetSlug].filter(\n\t\t\t\t\t(item) => item !== value\n\t\t\t\t);\n\t\t\t} else if ('radio' === state.type) {\n\t\t\t\tstate.selected[facetSlug] = [value];\n\t\t\t} else {\n\t\t\t\tstate.selected[facetSlug] = [...getSelected[facetSlug], value];\n\t\t\t}\n\t\t},\n\t\t*onCheckboxMouseEnter() {\n\t\t\tconst { facetSlug, value, getSelected } = state;\n\t\t\tconst currentSelected = getSelected[facetSlug] || [];\n\t\t\tconst nextSelected = { ...currentSelected, [facetSlug]: value };\n\t\t\tconst nextUrl = actions.constructNewUrl(nextSelected);\n\t\t\tyield actions.prefetch(nextUrl);\n\t\t},\n\t\tonSelectClick: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { facetSlug, value } = context.choice;\n\n\t\t\tconst currentSelected = state.getSelected;\n\t\t\tconst newSelected = currentSelected;\n\t\t\tif (!currentSelected[facetSlug]) {\n\t\t\t\tnewSelected[facetSlug] = [value];\n\t\t\t} else if (currentSelected[facetSlug].includes(value)) {\n\t\t\t\tnewSelected[facetSlug] = newSelected[facetSlug].filter(\n\t\t\t\t\t(item) => item !== value\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnewSelected[facetSlug] = [value];\n\t\t\t}\n\n\t\t\tstate.selected = newSelected;\n\t\t\tcontext.searchValue = '';\n\t\t},\n\t\t/**\n\t\t * When clicking on the facet expanded button, toggle the expanded state.\n\t\t */\n\t\tonExpand: () => {\n\t\t\tconst context = getContext();\n\t\t\tcontext.expanded = !context.expanded;\n\t\t},\n\t\tonCollapse: () => {\n\t\t\t// By default this runs on the on-blur directive on the input element\n\t\t\t// but we also use it as a shortcut to close the listbox on click,\n\t\t\t// Because the on-blur event fires before the click event\n\t\t\t// we need to slow things down a bit, 150 ms should do it...\n\t\t\tconst context = getContext();\n\t\t\tlet isRunning = false;\n\t\t\tif (!isRunning) {\n\t\t\t\tisRunning = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tcontext.expanded = false;\n\t\t\t\t\tisRunning = false;\n\t\t\t\t}, 150);\n\t\t\t}\n\t\t},\n\t\tmoveThroughChoices: (direction, ref) => {\n\t\t\tconst { facetChoices } = state;\n\t\t\tconst { activeIndex } = getContext();\n\t\t\tlet nextActive = null;\n\t\t\tif (activeIndex === null || isNaN(activeIndex)) {\n\t\t\t\tnextActive = 0;\n\t\t\t} else {\n\t\t\t\tnextActive = activeIndex + direction;\n\t\t\t}\n\t\t\tif (nextActive < 0) {\n\t\t\t\tnextActive = facetChoices.length - 1;\n\t\t\t}\n\t\t\tif (nextActive >= facetChoices.length) {\n\t\t\t\tnextActive = 0;\n\t\t\t}\n\t\t\tconst nextActiveValue = facetChoices[nextActive].value;\n\t\t\t// also scroll the listbox to the active item as you go...\n\t\t\tconst listbox = ref.parentElement.parentElement.querySelector(\n\t\t\t\t'.wp-block-prc-platform-facet-select-field__list'\n\t\t\t);\n\t\t\tconst activeItem = listbox.querySelector(\n\t\t\t\t`[data-ref-value=\"${nextActiveValue}\"]`\n\t\t\t);\n\t\t\tif (activeItem) {\n\t\t\t\t// Remove the active class from the previous active item.\n\t\t\t\tconst previousActive = listbox.querySelector('.is-selected');\n\t\t\t\tif (previousActive) {\n\t\t\t\t\tpreviousActive.classList.remove('is-selected');\n\t\t\t\t}\n\t\t\t\tactiveItem.classList.add('is-selected');\n\t\t\t\tactiveItem.scrollIntoView({\n\t\t\t\t\tblock: 'nearest',\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.log('NEXT ACTIVE', nextActive, nextActiveValue, activeItem);\n\n\t\t\t// facetChoices.forEach((option) => {\n\t\t\t// \toption.isSelected = false;\n\t\t\t// });\n\t\t\t// facetChoices[nextActive].isSelected = true;\n\n\t\t\tgetContext().activeIndex = nextActive;\n\n\t\t\t// actions.setFilteredOptions(filteredOptions, id);\n\t\t},\n\t\tonSelectKeyUp: (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst context = getContext();\n\t\t\tconst { facetSlug, activeIndex, choices } = context;\n\n\t\t\t// The input value.\n\t\t\tconst { value } = event.target;\n\n\t\t\tconst { ref } = getElement();\n\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tif (true === getContext().expanded) {\n\t\t\t\t\tref.blur();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (event.keyCode === 40 && event.key === 'ArrowDown') {\n\t\t\t\tconsole.log('DOWN', event.target);\n\t\t\t\tactions.moveThroughChoices(1, event.target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.keyCode === 38 && event.key === 'ArrowUp') {\n\t\t\t\tactions.moveThroughChoices(-1, event.target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tconst selectedValue = choices[activeIndex].value;\n\t\t\t\tconst currentSelected = state.selected;\n\t\t\t\tconst newSelected = currentSelected;\n\t\t\t\tif (!currentSelected[facetSlug]) {\n\t\t\t\t\tnewSelected[facetSlug] = [selectedValue];\n\t\t\t\t} else if (currentSelected[facetSlug].includes(selectedValue)) {\n\t\t\t\t\tnewSelected[facetSlug] = newSelected[facetSlug].filter(\n\t\t\t\t\t\t(item) => item !== selectedValue\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tnewSelected[facetSlug] = [selectedValue];\n\t\t\t\t}\n\t\t\t\tcontext.expanded = false;\n\t\t\t\tstate.selected = newSelected;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, filter the options.\n\t\t\tgetContext().searchValue = value.toLowerCase();\n\t\t},\n\t},\n\tcallbacks: {\n\t\tonUpdates: () => {\n\t\t\tconst localContext = getContext();\n\t\t\tconst serverContext = getServerContext();\n\t\t\tconsole.log('onUpdates', localContext, serverContext, state);\n\t\t},\n\t\t/**\n\t\t * When the facet is expanded, update the label to be either More or Less.\n\t\t */\n\t\tonExpand: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { expanded } = context;\n\t\t\tif (expanded) {\n\t\t\t\tcontext.expandedLabel = '- Less';\n\t\t\t} else {\n\t\t\t\tcontext.expandedLabel = '+ More';\n\t\t\t}\n\t\t},\n\t},\n});\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__","x","d","state","actions","store","label","context","getContext","choice","facetSlug","value","property","searchValue","values","find","c","getPropertyFromServerChoice","getServerState","facets","choices","isSelected","selected","includes","checked","id","slug","term_id","type","name","hasExpandedChoices","getServerContext","expandedChoices","length","placeholder","selectedValues","plchldr","undefined","map","replace","split","word","charAt","toUpperCase","slice","join","facetChoices","facetExpandedChoices","filterableFacetChoices","data","console","log","filter","toLowerCase","hasSelections","clearFacet","onClear","onCheckboxClick","getSelected","item","onCheckboxMouseEnter","nextSelected","nextUrl","constructNewUrl","prefetch","onSelectClick","currentSelected","newSelected","onExpand","expanded","onCollapse","isRunning","setTimeout","moveThroughChoices","direction","ref","activeIndex","nextActive","isNaN","nextActiveValue","listbox","parentElement","querySelector","activeItem","previousActive","classList","remove","add","scrollIntoView","block","onSelectKeyUp","event","preventDefault","target","getElement","keyCode","selectedValue","blur","callbacks","onUpdates","localContext","serverContext","expandedLabel"],"sourceRoot":""}