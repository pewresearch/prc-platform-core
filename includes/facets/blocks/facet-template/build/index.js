(()=>{"use strict";var e,t={464:()=>{const e=window.wp.i18n,t=window.wp.blocks,a=window.prcComponents,r=window.prcBlockUtils,l=window.React,c=window.wp.blockEditor,o=window.wp.element,n=window.wp.components,s=window.wp.data,p=window.ReactJSXRuntime;function i({attributes:e,setAttributes:a,context:r,clientId:l}){const{replaceInnerBlocks:i}=(0,s.useDispatch)("core/block-editor"),{facetName:u,facetLabel:f,facetType:m}=e,{facetsContextProvider:d}=r,b=(0,o.useMemo)((()=>{if(!d)return[{label:"No Facets Found",value:""}];const e=[{label:"Select a Facet",value:""}];return Object.keys(d).forEach((t=>{e.push({label:d[t].label,value:d[t].name})})),e}),[d]);return(0,p.jsx)(c.InspectorControls,{children:(0,p.jsx)(n.PanelBody,{title:"Facet Template",children:(0,p.jsxs)("div",{children:[(0,p.jsx)(n.SelectControl,{label:"Facet",help:"Select a facet from those registered with FacetWP.",options:b,value:u,onChange:e=>{const r=e,{type:c}=d[r],{label:o}=d[r];a({facetName:r,facetType:c,facetLabel:o});const n=((e,t)=>{const a={interactiveNamespace:"prc-platform/facets-context-provider",isInteractive:!0};console.log("getTemplateForType",e,t);const r=`${t.replace(/_/g," ").replace(/\w\S*/g,(e=>e.replace(/^\w/,(e=>e.toUpperCase()))))} Value`;switch(e){case"checkboxes":return[["prc-block/form-input-checkbox",{type:"checkbox",label:r,...a}]];case"dropdown":case"yearly":return[["prc-block/form-input-select",{placeholder:r,...a}]];case"date_range":return[["prc-block/form-input-select",{placeholder:r,...a}],["prc-block/form-input-select",{placeholder:r,...a}]];case"search":return[["prc-block/form-input-text",{type:"text",label:r,...a}]];default:return[["prc-block/form-input-checkbox",{type:"radio",label:r,...a}]]}})(c,r);i(l,(0,t.createBlocksFromInnerBlocksTemplate)(n),!1)}}),(0,p.jsx)(n.ExternalLink,{href:"/pewresearch-org/wp-admin/options-general.php?page=facetwp",children:"FacetWP Settings"})]})})})}const u=window.prcIcons,f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-platform/facet-template","version":"0.1.0","title":"Facet Template","category":"theme","description":"Display a facet given its slug and type as a block","attributes":{"facetName":{"type":"string","default":""},"facetType":{"type":"string"},"facetLabel":{"type":"string"}},"supports":{"anchor":true,"html":false,"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}},"interactivity":true},"selectors":{"root":".wp-block-prc-platform-facet-template","typography":"h5"},"usesContext":["postType","templateSlug","previewPostType","facetsContextProvider"],"providesContext":{"prc-facets/template/facetType":"facetType","prc-facets/template/facetName":"facetName","prc-facets/template/facetLabel":"facetLabel"},"styles":[{"name":"default","label":"Default","isDefault":true},{"name":"no-label","label":"No Label"}],"ancestor":["prc-platform/facets-context-provider"],"textdomain":"facet-template","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),{name:m}=f,d={icon:function(){return(0,p.jsx)(u.Icon,{icon:"filter-list"})},edit:function({attributes:t,setAttributes:o,context:n,clientId:s,isSelected:u}){const{facetName:f,facetType:m,facetLabel:d}=t,b=(0,c.useBlockProps)({className:`is-type-${m}`,style:{"--block-gap":(0,r.getBlockGapSupportValue)(t)}}),h=(0,l.useMemo)((()=>"search"===m?[{label:"Search"}]:["dropdown","yearly","date_range"].includes(m)?[{label:"Dropdown"}]:[{label:"Item 1"},{label:"Item 2"},{label:"Item 3"}]),[m]);return(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(i,{attributes:t,setAttributes:o,context:n,clientId:s}),(0,p.jsxs)("div",{...b,children:[(0,p.jsx)(c.RichText,{tagName:"h5",placeholder:(0,e.__)("Facet Template","prc"),value:d,onChange:e=>o({facetLabel:e}),keepPlaceholderOnFocus:!0,className:"wp-block-prc-platform-facet-template__label"}),(0,p.jsx)(a.InnerBlocksAsContextTemplate,{clientId:s,allowedBlocks:["prc-block/form-input-checkbox","prc-block/form-input-select","prc-block/form-input-text"],blockContexts:h,isResolving:!1,loadingLabel:"Loading Facet..."})]})]})},save:function({attributes:e}){return(0,p.jsx)(c.InnerBlocks.Content,{})}};(0,t.registerBlockType)(m,{...f,...d})}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var c=a[e]={exports:{}};return t[e](c,c.exports,r),c.exports}r.m=t,e=[],r.O=(t,a,l,c)=>{if(!a){var o=1/0;for(i=0;i<e.length;i++){for(var[a,l,c]=e[i],n=!0,s=0;s<a.length;s++)(!1&c||o>=c)&&Object.keys(r.O).every((e=>r.O[e](a[s])))?a.splice(s--,1):(n=!1,c<o&&(o=c));if(n){e.splice(i--,1);var p=l();void 0!==p&&(t=p)}}return t}c=c||0;for(var i=e.length;i>0&&e[i-1][2]>c;i--)e[i]=e[i-1];e[i]=[a,l,c]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,c,[o,n,s]=a,p=0;if(o.some((t=>0!==e[t]))){for(l in n)r.o(n,l)&&(r.m[l]=n[l]);if(s)var i=s(r)}for(t&&t(a);p<o.length;p++)c=o[p],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(i)},a=globalThis.webpackChunkfacet_template=globalThis.webpackChunkfacet_template||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=r.O(void 0,[431],(()=>r(464)));l=r.O(l)})();
//# sourceMappingURL=index.js.map