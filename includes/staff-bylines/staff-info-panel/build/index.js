(()=>{"use strict";const e=window.wp.element,t=window.wp.plugins,n=window.prcComponents,o=window.wp.data,s=window.wp.coreData,i=window.wp.components,l=window.wp.editPost,a=window.ReactJSXRuntime;function r(){const{postType:t,postId:r}=(0,o.useSelect)((e=>({postType:e("core/editor").getCurrentPostType(),postId:e("core/editor").getCurrentPostId()})),[]),[d,c]=(0,s.useEntityProp)("postType",t,"meta",r),{_maelstrom:p}=d,{enabled:b,restricted:m}=(0,e.useMemo)((()=>p&&p.enabled&&p.restricted?{enabled:!0,restricted:p.restricted}:{enabled:!1,restricted:[]}),[p]);return(0,a.jsxs)(l.PluginDocumentSettingPanel,{name:"prc-staff-info-safety",title:"Staff Safety (Maelstrom)",children:[(0,a.jsx)(i.ToggleControl,{label:"Enable Maelstrom",checked:b,onChange:()=>{c({_maelstrom:{enabled:!b,restricted:m}})}}),b&&(0,a.jsx)(n.TermSelect,{onChange:e=>{console.log("MAELSTROM",e),(e=>{const t=m;t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),c({_maelstrom:{enabled:b,restricted:t}}),console.log("meta...",d)})(e.name)},taxonomy:"regions-countries",value:m,maxTerms:5,label:"Select a region to restrict"})]})}const d=window.wp.i18n;function c(){const{postType:e,postId:t}=(0,o.useSelect)((e=>({postType:e("core/editor").getCurrentPostType(),postId:e("core/editor").getCurrentPostId()})),[]),[n,r]=(0,s.useEntityProp)("postType",e,"meta",t),{jobTitle:c,jobTitleExtended:p,socialProfiles:b,bylineLinkEnabled:m}=n;return(0,a.jsxs)(l.PluginDocumentSettingPanel,{name:"prc-staff-info",title:"Staff Information",children:[(0,a.jsx)(i.ToggleControl,{label:(0,d.__)("Display Byline Link"),help:(0,d.__)('All staff are assigned a byline tem, however not all staff have a link to a byline archive "staff bio" page. If this staff member has a bio page, enable this option to link their byline to their bio page.'),checked:m,onChange:()=>{r({...n,bylineLinkEnabled:!m})}}),(0,a.jsx)(i.CardDivider,{}),(0,a.jsx)(i.TextControl,{label:(0,d.__)("Job Title"),value:c,onChange:e=>{r({...n,jobTitle:e})},placeholder:"Research Assistant"}),(0,a.jsx)(i.TextControl,{label:(0,d.__)("Job Title Extended"),help:(0,d.__)("This extended job title appears under Short Read posts."),value:p,onChange:e=>{r({...n,jobTitleExtended:e})},placeholder:"is a Research Assistant at Pew Research Center."})]})}(0,t.registerPlugin)("prc-staff-info",{render:()=>(0,a.jsxs)(e.Fragment,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(r,{})]}),icon:null})})();
//# sourceMappingURL=index.js.map