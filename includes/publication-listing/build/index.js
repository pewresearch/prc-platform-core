(()=>{"use strict";const e=window.wp.components,i=window.wp.element,t=window.wp.data,n=window.wp.plugins,d=window.wp.editor,s=window.ReactJSXRuntime;(0,n.registerPlugin)("prc-post-visibility",{render:function(){const{editPost:n}=(0,t.useDispatch)("core/editor"),[o,l]=(0,i.useState)(!1),[r,c]=(0,i.useState)(!1),{selectedPostVisibilityTerms:h,hiddenOnIndexTermId:u,hiddenOnSearchTermId:g}=(0,t.useSelect)((e=>{var i,t;const n=null!==(i=e("core/editor").getEditedPostAttribute("_post_visibility"))&&void 0!==i?i:[],d=null!==(t=e("core").getEntityRecords("taxonomy","_post_visibility"))&&void 0!==t?t:[],s=d.find((e=>"hidden-on-index"===e.slug)),o=d.find((e=>"hidden-on-search"===e.slug));return{postVisibilityTerms:d,selectedPostVisibilityTerms:n,hiddenOnIndexTermId:s?.id,hiddenOnSearchTermId:o?.id}}),[]);(0,i.useEffect)((()=>{h&&(l(h.includes(u)),c(h.includes(g)))}),[h,u,g]);const a=(e,i)=>{let t=[...h||[]];i?t.includes(e)||t.push(e):t=t.filter((i=>i!==e)),n({_post_visibility:t})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.PluginPostStatusInfo,{children:[(0,s.jsx)("label",{htmlFor:"hide-on-index-toggle",children:"Hide On /publications"}),(0,s.jsx)(e.FormToggle,{id:"hide-on-index-toggle",checked:o,onChange:()=>a(u,!o)})]}),(0,s.jsxs)(d.PluginPostStatusInfo,{children:[(0,s.jsx)("label",{htmlFor:"hide-on-search-toggle",children:"Hide On /search"}),(0,s.jsx)(e.FormToggle,{id:"hide-on-search-toggle",checked:r,onChange:()=>a(g,!r)})]})]})}})})();