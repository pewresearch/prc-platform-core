(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=window.wp.apiFetch;var n=t.n(e);const o=window.wp.url;function r(t,e=25){return new Promise((o=>{const r={};n()({path:`/wp/v2/${t}?per_page=${e}`}).then((e=>{for(let n=0;n<e.length;n++){const o=e[n].slug.replace(`${t.toLowerCase()}_`,"");r[e[n].id]={id:e[n].id,name:e[n].name,parent:e[n].parent,slug:o}}o(r)}))}))}window.wp.coreData;const i=window.wp.element,s=window.wp.components,a=window.ReactJSXRuntime;function c(t,e){window.prcFunctions[t]||(window.prcFunctions[t]=e)}window.prcFunctions={},c("getTerms",r),c("getTermsByLetter",(function(t,e){return new Promise((o=>{n()({path:`/prc-api/v2/blocks/helpers/get-taxonomy-by-letter/?taxonomy=${t}&letter=${e}`}).then((t=>{o(t)}))}))})),c("getTermsAsOptions",(function(t,e,n="slug",o=!0){return new Promise((i=>{r(t,e).then((t=>{const e=[];Object.keys(t).forEach((o=>{const r=t[o],i=r[n];let s=r.name;void 0!==r.parent&&0!==r.parent&&(s=` -- ${s}`),e.push({value:i,label:s})})),!1!==o&&e.sort(((t,e)=>t.label>e.label?1:-1)),i(e)}))}))})),c("getTermsAsTree",(function(t){return new Promise((e=>{r(t).then((t=>{const n=[],o=Object.keys(t).map((e=>t[e]));o.filter((t=>0===t.parent)).forEach((t=>{const e=o.filter((e=>e.parent===t.id)),r=[];e.forEach((t=>{r.push({name:t.name,id:t.id})})),n.push({name:t.name,id:t.id,children:r})})),e(n)}))}))})),c("ifMatchSetAttribute",(function(t,e,n,o,r){t===e&&r({[n]:o})})),c("randomId",(function(){return`_${Math.random().toString(36).substr(2,9)}`})),c("arrayToCSV",(function(t,e){if(void 0===t||0===t.length)return!1;const n="object"!=typeof t?JSON.parse(t):t,o=t=>void 0!==t?t:"";let r="";void 0!==e&&(r+=`${o(e.title)}\n\t\t\t${o(e.subtitle)}\n\n\t\t\t`);for(let t=0;t<n.length;t+=1){let e="";for(let o=0;o<n[t].length;o+=1)o>0&&(e+=","),n[t][o].indexOf(",")>-1?e+=`"${n[t][o]}"`:e+=n[t][o];r+=`${e}\n\t\t`}return void 0!==e&&(r+=`\n\t\t${o(e.note)}\n\t\t${o(e.source)}\n\t\t${o(e.tag)}`),r})),c("tableToArray",(function(t){const e=t.querySelectorAll("tr"),n=[];for(let t=0;t<e.length;t+=1){const o=e[t].querySelectorAll("td, th"),r=[];for(let t=0;t<o.length;t+=1){const e=o[t];r.push(e.innerText)}n.push(r)}return n})),c("wpRestApiTermsToTree",(function(t,e=[]){console.log("wpRestApiTermsToTree",t,e);const n=e=>{const o=t.find((t=>t.id===e));return 0===o.parent?o:n(o.parent,t)},o=[];if(!t)return o;const r=Object.keys(t).map((e=>t[e]));r.filter((t=>0===t.parent)).forEach((t=>{const e=r.filter((e=>e.parent===t.id)),n=[];e.forEach((t=>{n.push({name:t.name,id:t.id,meta:t.meta})})),n.sort(((t,e)=>t.name>e.name?1:-1)),o.push({name:t.name,id:t.id,meta:t.meta,children:n})}));let i=o;if(0<e.length){const t=[];e.forEach((e=>{const r=n(e),i=o.findIndex((t=>t.id===r.id));t.push(o[i])})),i=t}return i})),c("getPostByUrl",(async function(t){try{const e=await n()({path:(0,o.addQueryArgs)("/prc-api/v3/utils/postid-by-url",{url:t}),method:"GET"}),r="post"===e?.postType?"posts":e?.postType,i=(0,o.addQueryArgs)(`/wp/v2/${r}/${e?.postId}`,{context:"view"});console.log("postSearchPath",i);const s=await n()({path:i,method:"GET"});return console.log("GOT THE POST",s),s}catch(t){throw t}})),c("writeInterstitialMessage",(function(t,e="Updating Document..."){let n=(0,i.renderToString)((0,a.jsxs)("div",{className:"editor-post-preview-button__interstitial-message",children:[(0,a.jsxs)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96",children:[(0,a.jsx)(s.Path,{className:"outer",d:"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36",fill:"none"}),(0,a.jsx)(s.Path,{className:"inner",d:"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z",fill:"none"})]}),(0,a.jsx)("p",{children:e})]}));n+='\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;\n\t\t\t}\n\t\t</style>\n\t',t.write(n),t.title=e,t.close()})),c("getContrastingColorFromHex",(function(t,e="#ffffff",n="#2a2a2a"){const o=function(t){t=t.toString().replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,n,o)=>e+e+n+n+o+o));const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:"black"}(t);return Math.round((299*o[0]+587*o[1]+114*o[2])/1e3)>125?n:e})),console.log("Loading @prc/functions...",window.prcFunctions)})();
//# sourceMappingURL=index.js.map