{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@prc/functions/webpack/bootstrap","webpack://@prc/functions/webpack/runtime/compat get default export","webpack://@prc/functions/webpack/runtime/define property getters","webpack://@prc/functions/webpack/runtime/hasOwnProperty shorthand","webpack://@prc/functions/external window [\"wp\",\"apiFetch\"]","webpack://@prc/functions/external window [\"wp\",\"url\"]","webpack://@prc/functions/./functions.js","webpack://@prc/functions/external window [\"wp\",\"coreData\"]","webpack://@prc/functions/external window [\"wp\",\"element\"]","webpack://@prc/functions/external window [\"wp\",\"components\"]","webpack://@prc/functions/external window \"ReactJSXRuntime\"","webpack://@prc/functions/./index.js","webpack://@prc/functions/./interstitialMessageGenerator.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","/* eslint-disable max-lines */\n/**\n * WordPress Dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport { getEntityRecord } from '@wordpress/core-data';\n\nfunction ifMatchSetAttribute(\n\tneedle,\n\thaystack,\n\tattrKey,\n\tattrValue,\n\tsetAttributes\n) {\n\tif (needle === haystack) {\n\t\tsetAttributes({ [attrKey]: attrValue });\n\t}\n}\n\nfunction randomId() {\n\t// Math.random should be unique because of its seeding algorithm.\n\t// Convert it to base 36 (numbers + letters), and grab the first 9 characters\n\t// after the decimal.\n\treturn `_${Math.random().toString(36).substr(2, 9)}`;\n}\n\nfunction getTermsByLetter(taxonomy, letter) {\n\treturn new Promise((resolve) => {\n\t\tapiFetch({\n\t\t\tpath: `/prc-api/v2/blocks/helpers/get-taxonomy-by-letter/?taxonomy=${taxonomy}&letter=${letter}`,\n\t\t}).then((terms) => {\n\t\t\tresolve(terms);\n\t\t});\n\t});\n}\n\nfunction getTerms(taxonomy, perPage = 25) {\n\treturn new Promise((resolve) => {\n\t\tconst data = {};\n\t\tapiFetch({\n\t\t\tpath: `/wp/v2/${taxonomy}?per_page=${perPage}`,\n\t\t}).then((terms) => {\n\t\t\tfor (let index = 0; index < terms.length; index++) {\n\t\t\t\tconst slug = terms[index].slug.replace(\n\t\t\t\t\t`${taxonomy.toLowerCase()}_`,\n\t\t\t\t\t''\n\t\t\t\t);\n\t\t\t\tdata[terms[index].id] = {\n\t\t\t\t\tid: terms[index].id,\n\t\t\t\t\tname: terms[index].name,\n\t\t\t\t\tparent: terms[index].parent,\n\t\t\t\t\tslug,\n\t\t\t\t};\n\t\t\t}\n\t\t\tresolve(data);\n\t\t});\n\t});\n}\n\nfunction getTermsAsOptions(\n\ttaxonomy,\n\tperPage,\n\ttermValue = 'slug',\n\tsortByLabel = true\n) {\n\treturn new Promise((resolve) => {\n\t\tgetTerms(taxonomy, perPage).then((data) => {\n\t\t\tconst labelOptions = [];\n\n\t\t\tObject.keys(data).forEach((key) => {\n\t\t\t\tconst termObj = data[key];\n\n\t\t\t\tconst value = termObj[termValue];\n\n\t\t\t\tlet label = termObj.name;\n\t\t\t\tif (undefined !== termObj.parent && 0 !== termObj.parent) {\n\t\t\t\t\tlabel = ` -- ${label}`;\n\t\t\t\t}\n\n\t\t\t\tlabelOptions.push({\n\t\t\t\t\tvalue,\n\t\t\t\t\tlabel,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tif (false !== sortByLabel) {\n\t\t\t\tlabelOptions.sort((a, b) => (a.label > b.label ? 1 : -1));\n\t\t\t}\n\n\t\t\tresolve(labelOptions);\n\t\t});\n\t});\n}\n\nfunction getTermsAsTree(taxonomy) {\n\treturn new Promise((resolve) => {\n\t\tgetTerms(taxonomy).then((data) => {\n\t\t\tconst treeData = [];\n\t\t\t// Convert data from object of objects to array of objects.\n\t\t\tconst convertedData = Object.keys(data).map((i) => data[i]);\n\t\t\t// Filter out the parent terms first\n\t\t\tconst parentTerms = convertedData.filter((e) => 0 === e.parent);\n\t\t\tparentTerms.forEach((e) => {\n\t\t\t\t// Get children by filtering for terms with parent matching this id in loop.\n\t\t\t\tconst c = convertedData.filter((f) => f.parent === e.id);\n\t\t\t\tconst children = [];\n\t\t\t\t// Construct children array.\n\t\t\t\tc.forEach((cT) => {\n\t\t\t\t\tchildren.push({\n\t\t\t\t\t\tname: cT.name,\n\t\t\t\t\t\tid: cT.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t// Finally, push the fully structured parent -> child relationship to the tree data.\n\t\t\t\ttreeData.push({\n\t\t\t\t\tname: e.name,\n\t\t\t\t\tid: e.id,\n\t\t\t\t\tchildren,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tresolve(treeData);\n\t\t});\n\t});\n}\n\n// convert an html table into a flat array of arrays\nfunction tableToArray(table) {\n\tconst rows = table.querySelectorAll('tr');\n\tconst data = [];\n\tfor (let i = 0; i < rows.length; i += 1) {\n\t\tconst row = rows[i];\n\t\tconst cols = row.querySelectorAll('td, th');\n\t\tconst rowData = [];\n\t\tfor (let j = 0; j < cols.length; j += 1) {\n\t\t\tconst col = cols[j];\n\t\t\trowData.push(col.innerText);\n\t\t}\n\t\tdata.push(rowData);\n\t}\n\treturn data;\n}\n\n// cnovert array of arrays to formatted csv, with optional metadata\nfunction arrayToCSV(objArray, metadata) {\n\tif (undefined === objArray || objArray.length === 0) return false;\n\tconst array =\n\t\t'object' !== typeof objArray ? JSON.parse(objArray) : objArray;\n\tconst checkIfEmpty = (str) => (str !== undefined ? str : '');\n\tlet str = '';\n\tif (undefined !== metadata) {\n\t\tstr += `${checkIfEmpty(metadata.title)}\n\t\t\t${checkIfEmpty(metadata.subtitle)}\n\n\t\t\t`;\n\t}\n\tfor (let i = 0; i < array.length; i += 1) {\n\t\tlet line = '';\n\t\t// if a value has a comma in it, wrap it in quotes\n\t\tfor (let j = 0; j < array[i].length; j += 1) {\n\t\t\tif (j > 0) line += ',';\n\t\t\tif (array[i][j].indexOf(',') > -1) {\n\t\t\t\tline += `\"${array[i][j]}\"`;\n\t\t\t} else {\n\t\t\t\tline += array[i][j];\n\t\t\t}\n\t\t}\n\n\t\tstr += `${line}\n\t\t`;\n\t}\n\tif (undefined !== metadata) {\n\t\tstr += `\n\t\t${checkIfEmpty(metadata.note)}\n\t\t${checkIfEmpty(metadata.source)}\n\t\t${checkIfEmpty(metadata.tag)}`;\n\t}\n\treturn str;\n}\n\nfunction wpRestApiTermsToTree(terms, restrictTo = []) {\n\tconsole.log('wpRestApiTermsToTree', terms, restrictTo);\n\tconst getTopLevel = (termId) => {\n\t\tconst term = terms.find((t) => t.id === termId);\n\t\tif (0 === term.parent) {\n\t\t\treturn term;\n\t\t}\n\t\treturn getTopLevel(term.parent, terms);\n\t};\n\n\tconst treeData = [];\n\tif (!terms) {\n\t\treturn treeData;\n\t}\n\t// Convert data from object of objects to array of objects.\n\tconst convertedData = Object.keys(terms).map((i) => terms[i]);\n\t// Filter out the parent terms first\n\tconst parentTerms = convertedData.filter((e) => 0 === e.parent);\n\tparentTerms.forEach((e) => {\n\t\t// Get children by filtering for terms with parent matching this id in loop.\n\t\tconst c = convertedData.filter((f) => f.parent === e.id);\n\t\tconst children = [];\n\t\t// Construct children array.\n\t\tc.forEach((cT) => {\n\t\t\tchildren.push({\n\t\t\t\tname: cT.name,\n\t\t\t\tid: cT.id,\n\t\t\t\tmeta: cT.meta,\n\t\t\t});\n\t\t});\n\t\t// sort children by name\n\t\tchildren.sort((a, b) => (a.name > b.name ? 1 : -1));\n\t\t// Finally, push the fully structured parent -> child relationship to the tree data.\n\t\ttreeData.push({\n\t\t\tname: e.name,\n\t\t\tid: e.id,\n\t\t\tmeta: e.meta,\n\t\t\tchildren,\n\t\t});\n\t});\n\n\tlet r = treeData;\n\n\tif (0 < restrictTo.length) {\n\t\tconst restrictedTreeData = [];\n\t\trestrictTo.forEach((termId) => {\n\t\t\tconst topLevel = getTopLevel(termId);\n\t\t\tconst topLevelIndex = treeData.findIndex(\n\t\t\t\t(t) => t.id === topLevel.id\n\t\t\t);\n\t\t\trestrictedTreeData.push(treeData[topLevelIndex]);\n\t\t});\n\t\tr = restrictedTreeData;\n\t}\n\n\treturn r;\n}\n\nasync function getPostByUrl(url) {\n\ttry {\n\t\tconst resp = await apiFetch({\n\t\t\tpath: addQueryArgs('/prc-api/v3/utils/postid-by-url', {\n\t\t\t\turl,\n\t\t\t}),\n\t\t\tmethod: 'GET',\n\t\t});\n\t\tconst type = 'post' === resp?.postType ? 'posts' : resp?.postType;\n\t\tconst postSearchPath = addQueryArgs(`/wp/v2/${type}/${resp?.postId}`, {\n\t\t\tcontext: 'view',\n\t\t});\n\t\tconsole.log('postSearchPath', postSearchPath);\n\t\tconst post = await apiFetch({\n\t\t\tpath: postSearchPath,\n\t\t\tmethod: 'GET',\n\t\t});\n\t\tconsole.log('GOT THE POST', post);\n\t\treturn post;\n\t} catch (err) {\n\t\tthrow err;\n\t}\n}\n\nfunction hexToRgb(hex) {\n\tconst shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\thex = hex.toString().replace(shorthandRegex, (m, r, g, b) => {\n\t\treturn r + r + g + g + b + b;\n\t});\n\n\tconst result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\tif (!result) {\n\t\treturn 'black';\n\t}\n\n\tconst rgb = [\n\t\tparseInt(result[1], 16),\n\t\tparseInt(result[2], 16),\n\t\tparseInt(result[3], 16),\n\t];\n\treturn rgb;\n}\n\nfunction getContrastingColorFromHex(\n\tcolor,\n\toutputLight = '#ffffff',\n\toutputDark = '#2a2a2a'\n) {\n\tconst rgb = hexToRgb(color);\n\t// set determine color contrast per W3 guidelines: https://www.w3.org/TR/AERT/#color-contrast\n\t// Color brightness = ((Red value X 299) + (Green value X 587) + (Blue value X 114)) / 1000\n\t// The range for color brightness difference is 125.\n\tconst brightness = Math.round(\n\t\t(rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000\n\t);\n\tconst fill = brightness > 125 ? outputDark : outputLight;\n\treturn fill;\n}\n\nexport {\n\tgetTerms,\n\tgetTermsByLetter,\n\tgetTermsAsOptions,\n\tgetTermsAsTree,\n\tifMatchSetAttribute,\n\trandomId,\n\ttableToArray,\n\tarrayToCSV,\n\twpRestApiTermsToTree,\n\tgetPostByUrl,\n\tgetContrastingColorFromHex,\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","import {\n\tgetTerms,\n\tgetTermsByLetter,\n\tgetTermsAsOptions,\n\tgetTermsAsTree,\n\tifMatchSetAttribute,\n\trandomId,\n\tarrayToCSV,\n\ttableToArray,\n\twpRestApiTermsToTree,\n\tgetPostByUrl,\n\tgetContrastingColorFromHex,\n} from './functions';\nimport writeInterstitialMessage from './interstitialMessageGenerator';\n\nfunction loadScript(slug, script) {\n\tif (!window.prcFunctions[slug]) {\n\t\twindow.prcFunctions[slug] = script;\n\t}\n}\n\nwindow.prcFunctions = {};\n\nloadScript('getTerms', getTerms);\nloadScript('getTermsByLetter', getTermsByLetter);\nloadScript('getTermsAsOptions', getTermsAsOptions);\nloadScript('getTermsAsTree', getTermsAsTree);\nloadScript('ifMatchSetAttribute', ifMatchSetAttribute);\nloadScript('randomId', randomId);\nloadScript('arrayToCSV', arrayToCSV);\nloadScript('tableToArray', tableToArray);\nloadScript('wpRestApiTermsToTree', wpRestApiTermsToTree);\nloadScript('getPostByUrl', getPostByUrl);\nloadScript('writeInterstitialMessage', writeInterstitialMessage);\nloadScript('getContrastingColorFromHex', getContrastingColorFromHex);\n\nconsole.log('Loading @prc/functions...', window.prcFunctions);\n","/**\n * WordPress Dependencies\n */\nimport { renderToString } from '@wordpress/element';\nimport { Path, SVG } from '@wordpress/components';\n\nexport default function writeInterstitialMessage(\n\ttargetDocument,\n\tmessage = 'Updating Document...'\n) {\n\tlet markup = renderToString(\n\t\t<div className=\"editor-post-preview-button__interstitial-message\">\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\">\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"outer\"\n\t\t\t\t\td=\"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"inner\"\n\t\t\t\t\td=\"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</SVG>\n\t\t\t<p>{message}</p>\n\t\t</div>\n\t);\n\n\tmarkup += `\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n\t\t\t}\n\t\t</style>\n\t`;\n\n\ttargetDocument.write(markup);\n\ttargetDocument.title = message;\n\ttargetDocument.close();\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","getTerms","taxonomy","perPage","Promise","resolve","data","apiFetch","path","then","terms","index","length","slug","replace","toLowerCase","id","name","parent","loadScript","script","prcFunctions","letter","termValue","sortByLabel","labelOptions","keys","forEach","termObj","value","label","undefined","push","sort","b","treeData","convertedData","map","i","filter","e","c","f","children","cT","needle","haystack","attrKey","attrValue","setAttributes","Math","random","toString","substr","objArray","metadata","array","JSON","parse","checkIfEmpty","str","title","subtitle","line","j","indexOf","note","source","tag","table","rows","querySelectorAll","cols","rowData","col","innerText","restrictTo","console","log","getTopLevel","termId","term","find","t","meta","r","restrictedTreeData","topLevel","topLevelIndex","findIndex","async","url","resp","addQueryArgs","method","type","postType","postSearchPath","postId","context","post","err","targetDocument","message","markup","renderToString","_jsxs","className","SVG","xmlns","viewBox","_jsx","Path","fill","write","close","color","outputLight","outputDark","rgb","hex","m","g","result","exec","parseInt","hexToRgb","round"],"sourceRoot":""}