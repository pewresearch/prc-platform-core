!function(){"use strict";var e=window.React,t=window.wp.primitives,n=(0,e.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(t.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})),r=window.wp.blocks,o=window.prcHooks,s=window.wp.i18n,a=window.wp.components,i=window.wp.element,c=window.wp.coreData,l=window.wp.blockEditor;function d({isMissing:t,searchTerm:n,setSearchTerm:r}){return(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(a.PanelBody,null,(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.TextControl,{label:(0,s.__)("Search","prc-platform-search-factoids"),value:n,onChange:r}))))}window.wp.url;const u="factoid",p="Factoid";var m=(0,a.withNotices)((function({attributes:t,setAttributes:n,noticeUI:r,setNoticeUI:a,clientId:m,context:w}){const[h,y]=(0,i.useState)(""),g=(0,o.useDebounce)(h,500),{queryId:f,query:v,queryContext:E,templateSlug:b,previewPostType:k}=w,_=(0,i.useMemo)((()=>({per_page:1,context:"view",orderby:"date",order:"desc",s:g})),[g]),{records:x,hasResolved:S}=(0,c.useEntityRecords)("postType",u,_),I=x?.[0]?.id,T=!S,B=S&&!I,[C,q,P]=(0,c.useEntityBlockEditor)("postType",u,{id:I}),R=(0,i.useMemo)((()=>JSON.stringify(I,u)),[I]),L=(0,l.__experimentalUseHasRecursion)(R),M=(0,l.useBlockProps)(),A=(0,l.useInnerBlocksProps)({},{value:C,onInput:q,onChange:P,renderAppender:C?.length?void 0:l.InnerBlocks.ButtonBlockAppender});return(0,e.createElement)(i.Fragment,null,(0,e.createElement)(d,{isMissing:B,searchTerm:h,setSearchTerm:y}),(0,e.createElement)("div",{...M},L&&(0,e.createElement)(l.Warning,null,(0,s.__)(`${u} cannot be rendered inside itself.`)),B&&(0,e.createElement)(l.Warning,null,(0,s.__)(`A matching ${p.toLocaleLowerCase()} could not be found. It may be unavailable at this time, or you have not published any factoids.`)),T&&(0,e.createElement)(l.Warning,null,(0,s.__)(`Loading ${p.toLocaleLowerCase()} â€¦`)),(0,e.createElement)(l.__experimentalRecursionProvider,{uniqueId:R},!T&&!B&&(0,e.createElement)("div",{...A}))))})),w=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-platform/search-factoids","version":"0.1.0","title":"Search Factoids","description":"Returns the queried search factoid.","category":"theme","keywords":["search","factoid","search factoid"],"supports":{"anchor":true,"html":false},"usesContext":["queryId","query","queryContext","templateSlug","previewPostType"],"textdomain":"prc-block-search-factoids","editorScript":"file:./index.js"}');const{name:h}=w,y={icon:n,edit:m};(0,r.registerBlockType)(h,{...w,...y})}();
//# sourceMappingURL=index.js.map