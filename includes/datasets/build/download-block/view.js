import*as t from"@wordpress/interactivity";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const o=(n={getContext:()=>t.getContext,store:()=>t.store},r={},e.d(r,n),r);var n,r;(0,o.store)("prc-platform/dataset-download",{actions:{onButtonClick:t=>{t.preventDefault();const e=(0,o.getContext)(),{datasetId:n}=e,r=(0,o.getContext)("prc-user-accounts/content-gate"),{userToken:a,userId:i}=r;console.log('onButtonClick: "Hit the api with this information..." ->',r,a,i,n),window?.wp?.apiFetch({path:`/prc-api/v3/datasets/get-download/?datasetId=${n}`,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:i,userToken:a})}).then((t=>{t?.file_url&&window.open(t.file_url,"_blank")})).catch((t=>{console.error("Error fetching dataset download",t)}))}}});
//# sourceMappingURL=view.js.map