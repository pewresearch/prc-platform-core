(()=>{"use strict";const e=window.wp.element,t=(0,e.forwardRef)((function({icon:t,size:a=24,...n},o){return(0,e.cloneElement)(t,{width:a,height:a,...n,ref:o})})),a=window.wp.primitives,n=window.ReactJSXRuntime,o=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})}),i=window.prcComponents,s=window.wp.i18n,d=window.React,l=window.wp.plugins,r=window.wp.editPost,p=window.wp.editor,w=window.wp.data,c=window.wp.coreData,h=window.wp.components,m="prc-platform-datasets-panel",_=["application/zip","application/pdf"];(0,l.registerPlugin)(m,{render:function(){const{postType:e,postId:a}=(0,w.useSelect)((e=>({postType:e(p.store).getCurrentPostType(),postId:e(p.store).getCurrentPostId()})),[]),[l,u]=(0,c.useEntityProp)("postType",e,"meta",a),{attachmentId:g,isAtp:P,datasetSchema:x}=(0,d.useMemo)((()=>(console.log("meta",l),{attachmentId:l._download_attachment_id||!1,isAtp:l.is_atp||!1,datasetSchema:l.dataset_schema||""})),[l]);return(0,n.jsxs)(d.Fragment,{children:[(0,n.jsxs)(r.PluginSidebar,{name:m,title:"Dataset Options",icon:(0,n.jsx)(t,{icon:o,size:16}),children:[(0,n.jsxs)(h.PanelBody,{title:"Dataset File",children:[(0,n.jsx)(i.MediaDropZone,{attachmentId:g,disabled:!1,onUpdate:e=>{u({...l,_download_attachment_id:e.id})},editButtonLabel:(0,s.__)("Edit Dataset File"),onClear:!1,allowedTypes:_,label:(0,s.__)("Upload Dataset File (zip or pdf)"),singularLabel:(0,s.__)("dataset")}),(0,n.jsx)(h.CardDivider,{}),(0,n.jsx)(h.ToggleControl,{label:"ATP Dataset",help:"ATP datasets are bound by an opt-in to the ATP Terms of Service.",checked:P,onChange:e=>{u({...l,is_atp:e})}})]}),(0,n.jsx)(h.PanelBody,{title:"Dataset Schema",children:(0,n.jsx)(h.TextareaControl,{label:"Dataset Schema",value:x,onChange:e=>{u({...l,dataset_schema:e})}})})]}),(0,n.jsx)(r.PluginPrePublishPanel,{children:(0,n.jsxs)(h.PanelBody,{title:"Review Dataset Options",children:[(0,n.jsx)(i.MediaDropZone,{attachmentId:g,disabled:!1,onUpdate:e=>{u({...l,_download_attachment_id:e.id})},editButtonLabel:(0,s.__)("Edit Dataset File"),onClear:!1,allowedTypes:_,label:(0,s.__)("Upload Dataset File (zip or pdf)"),singularLabel:(0,s.__)("dataset")}),(0,n.jsx)(h.CardDivider,{}),(0,n.jsx)(h.ToggleControl,{label:"ATP Dataset",help:"ATP datasets are bound by an opt-in to the ATP Terms of Service.",checked:P,onChange:e=>{u({...l,is_atp:e})}})]})})]})}})})();
//# sourceMappingURL=index.js.map