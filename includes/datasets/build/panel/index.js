(()=>{"use strict";var e={251:(e,t,a)=>{var n=a(196),o=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,a){var n,s={},d=null,p=null;for(n in void 0!==a&&(d=""+a),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(p=t.ref),t)r.call(t,n)&&!i.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:o,type:e,key:d,ref:p,props:s,_owner:l.current}}},893:(e,t,a)=>{e.exports=a(251)},196:e=>{e.exports=window.React}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}(()=>{var e=a(196);const t=window.wp.element,n=(0,t.forwardRef)((function({icon:e,size:a=24,...n},o){return(0,t.cloneElement)(e,{width:a,height:a,...n,ref:o})})),o=window.wp.primitives;var r=a(893);const l=(0,r.jsx)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(o.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})}),i=window.prcComponents,s=window.wp.i18n,d=window.wp.plugins,p=window.wp.editPost,c=window.wp.editor,w=window.wp.data,m=window.wp.coreData,_=window.wp.components,u="prc-platform-datasets-panel",h=["application/zip","application/pdf"];(0,d.registerPlugin)(u,{render:function(){const{postType:t,postId:a}=(0,w.useSelect)((e=>({postType:e(c.store).getCurrentPostType(),postId:e(c.store).getCurrentPostId()})),[]),[o,r]=(0,m.useEntityProp)("postType",t,"meta",a),{attachmentId:d,isAtp:f,datasetSchema:v}=(0,e.useMemo)((()=>(console.log("meta",o),{attachmentId:o._download_attachment_id||!1,isAtp:o.is_atp||!1,datasetSchema:o.dataset_schema||""})),[o]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(p.PluginSidebar,{name:u,title:"Dataset Options",icon:(0,e.createElement)(n,{icon:l,size:16})},(0,e.createElement)(_.PanelBody,{title:"Dataset File"},(0,e.createElement)(i.MediaDropZone,{attachmentId:d,disabled:!1,onUpdate:e=>{r({...o,_download_attachment_id:e.id})},editButtonLabel:(0,s.__)("Edit Dataset File"),onClear:!1,allowedTypes:h,label:(0,s.__)("Upload Dataset File (zip or pdf)"),singularLabel:(0,s.__)("dataset")}),(0,e.createElement)(_.CardDivider,null),(0,e.createElement)(_.ToggleControl,{label:"ATP Dataset",help:"ATP datasets are bound by an opt-in to the ATP Terms of Service.",checked:f,onChange:e=>{r({...o,is_atp:e})}})),(0,e.createElement)(_.PanelBody,{title:"Dataset Schema"},(0,e.createElement)(_.TextareaControl,{label:"Dataset Schema",value:v,onChange:e=>{r({...o,dataset_schema:e})}}))),(0,e.createElement)(p.PluginPrePublishPanel,null,(0,e.createElement)(_.PanelBody,{title:"Review Dataset Options"},(0,e.createElement)(i.MediaDropZone,{attachmentId:d,disabled:!1,onUpdate:e=>{r({...o,_download_attachment_id:e.id})},editButtonLabel:(0,s.__)("Edit Dataset File"),onClear:!1,allowedTypes:h,label:(0,s.__)("Upload Dataset File (zip or pdf)"),singularLabel:(0,s.__)("dataset")}),(0,e.createElement)(_.CardDivider,null),(0,e.createElement)(_.ToggleControl,{label:"ATP Dataset",help:"ATP datasets are bound by an opt-in to the ATP Terms of Service.",checked:f,onChange:e=>{r({...o,is_atp:e})}}))))}})})()})();
//# sourceMappingURL=index.js.map