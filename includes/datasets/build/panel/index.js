(()=>{"use strict";const e=window.React,t=window.wp.element,a=(0,t.forwardRef)((function({icon:e,size:a=24,...n},l){return(0,t.cloneElement)(e,{width:a,height:a,...n,ref:l})})),n=window.wp.primitives,l=(0,e.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(n.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})),o=window.prcComponents,i=window.wp.i18n,d=window.wp.plugins,s=window.wp.editPost,r=window.wp.editor,p=window.wp.data,c=window.wp.coreData,m=window.wp.components,w="prc-platform-datasets-panel",h=["application/zip","application/pdf"];(0,d.registerPlugin)(w,{render:function(){const{postType:t,postId:n}=(0,p.useSelect)((e=>({postType:e(r.store).getCurrentPostType(),postId:e(r.store).getCurrentPostId()})),[]),[d,u]=(0,c.useEntityProp)("postType",t,"meta",n),{attachmentId:_,isAtp:g,datasetSchema:E}=(0,e.useMemo)((()=>(console.log("meta",d),{attachmentId:d._download_attachment_id||!1,isAtp:d.is_atp||!1,datasetSchema:d.dataset_schema||""})),[d]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s.PluginSidebar,{name:w,title:"Dataset Options",icon:(0,e.createElement)(a,{icon:l,size:16})},(0,e.createElement)(m.PanelBody,{title:"Dataset File"},(0,e.createElement)(o.MediaDropZone,{attachmentId:_,disabled:!1,onUpdate:e=>{u({...d,_download_attachment_id:e.id})},editButtonLabel:(0,i.__)("Edit Dataset File"),onClear:!1,allowedTypes:h,label:(0,i.__)("Upload Dataset File (zip or pdf)"),singularLabel:(0,i.__)("dataset")}),(0,e.createElement)(m.CardDivider,null),(0,e.createElement)(m.ToggleControl,{label:"ATP Dataset",help:"ATP datasets are bound by an opt-in to the ATP Terms of Service.",checked:g,onChange:e=>{u({...d,is_atp:e})}})),(0,e.createElement)(m.PanelBody,{title:"Dataset Schema"},(0,e.createElement)(m.TextareaControl,{label:"Dataset Schema",value:E,onChange:e=>{u({...d,dataset_schema:e})}}))),(0,e.createElement)(s.PluginPrePublishPanel,null,(0,e.createElement)(m.PanelBody,{title:"Review Dataset Options"},(0,e.createElement)(o.MediaDropZone,{attachmentId:_,disabled:!1,onUpdate:e=>{u({...d,_download_attachment_id:e.id})},editButtonLabel:(0,i.__)("Edit Dataset File"),onClear:!1,allowedTypes:h,label:(0,i.__)("Upload Dataset File (zip or pdf)"),singularLabel:(0,i.__)("dataset")}),(0,e.createElement)(m.CardDivider,null),(0,e.createElement)(m.ToggleControl,{label:"ATP Dataset",help:"ATP datasets are bound by an opt-in to the ATP Terms of Service.",checked:g,onChange:e=>{u({...d,is_atp:e})}}))))}})})();
//# sourceMappingURL=index.js.map